exports.id = 535;
exports.ids = [535];
exports.modules = {

/***/ 1090:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Anonymous_wrapper__9krYP",
	"anonymous": "Anonymous_anonymous__6AzJL",
	"link": "Anonymous_link__TXcIl",
	"textCentered": "Anonymous_textCentered__HQYc7"
};


/***/ }),

/***/ 1830:
/***/ ((module) => {

// Exports
module.exports = {
	"photo": "Avatar_photo__N_gQH",
	"cover": "Avatar_cover__CpuL9",
	"circle": "Avatar_circle__j8ZXX",
	"round6": "Avatar_round6__XWwQF",
	"pointer": "Avatar_pointer__lRU5C",
	"size36": "Avatar_size36__VazSN",
	"size54": "Avatar_size54__SiDio",
	"size86": "Avatar_size86__yGYOI",
	"size90": "Avatar_size90__UYS_G",
	"size300": "Avatar_size300__UpNof"
};


/***/ }),

/***/ 5168:
/***/ ((module) => {

// Exports
module.exports = {
	"button": "Button_button__30ukX",
	"size280": "Button_size280__nj1jX",
	"size240": "Button_size240__5LulS",
	"size125": "Button_size125__gCTGH",
	"baseAnimated": "Button_baseAnimated__KpDuO",
	"baseAnimatedBlackTheme": "Button_baseAnimatedBlackTheme__bKqSQ",
	"failureAnimated": "Button_failureAnimated___lzdt",
	"successAnimated": "Button_successAnimated__G_lEO",
	"buttonBlackTheme": "Button_buttonBlackTheme__0jLs8"
};


/***/ }),

/***/ 161:
/***/ ((module) => {

// Exports
module.exports = {
	"chatActions": "ChatActions_chatActions__TwEfo",
	"title": "ChatActions_title__Kpr9F",
	"button": "ChatActions_button__F_y2R",
	"plus": "ChatActions_plus__7Mywl",
	"searchBar": "ChatActions_searchBar__0DzJB",
	"modal": "ChatActions_modal__oeJnl",
	"form": "ChatActions_form__g9qG4",
	"btnGroup": "ChatActions_btnGroup__9vRHj",
	"chatSettings": "ChatActions_chatSettings__kWshW",
	"hiddenInputWrap": "ChatActions_hiddenInputWrap__CSQJx",
	"fileName": "ChatActions_fileName__us_V8",
	"hiddenInput": "ChatActions_hiddenInput__Y3GnL",
	"addPhoto": "ChatActions_addPhoto__Yq9pn",
	"friendsSearchInput": "ChatActions_friendsSearchInput__CgVns",
	"friendsList": "ChatActions_friendsList__WtiBD",
	"friendChoice": "ChatActions_friendChoice__waFZL",
	"checkbox": "ChatActions_checkbox__OngWP",
	"modalOpen": "ChatActions_modalOpen__XIbmh",
	"chatActionsBlackTheme": "ChatActions_chatActionsBlackTheme__lA7oC",
	"modalBlackTheme": "ChatActions_modalBlackTheme__JZ6_e",
	"btn": "ChatActions_btn__Tcrpt",
	"nameInput": "ChatActions_nameInput__8vL9p"
};


/***/ }),

/***/ 9731:
/***/ ((module) => {

// Exports
module.exports = {
	"chatList": "ChatList_chatList__Qj5e7",
	"chatListBlackTheme": "ChatList_chatListBlackTheme__jnRb8"
};


/***/ }),

/***/ 5218:
/***/ ((module) => {

// Exports
module.exports = {
	"chat": "Chat_chat__Bdojy",
	"modal": "Chat_modal___vhX_",
	"innerModal": "Chat_innerModal___WFPE",
	"photoChange": "Chat_photoChange__jDTQ9",
	"h2": "Chat_h2__h6K0y",
	"photoWrapper": "Chat_photoWrapper__FBCSx",
	"hiddenInputWrap": "Chat_hiddenInputWrap__WSYzj",
	"hiddenInput": "Chat_hiddenInput__elzT6",
	"fileName": "Chat_fileName__tXZN9",
	"members": "Chat_members___U0d2",
	"membersList": "Chat_membersList__wea6Y",
	"member": "Chat_member__CJJbm",
	"input": "Chat_input__FffMp",
	"btnGroup": "Chat_btnGroup__eoSug",
	"modalOpen": "Chat_modalOpen__pxqvo",
	"closed": "Chat_closed__E4AKN",
	"upperBar": "Chat_upperBar__f1xfs",
	"moreWrapper": "Chat_moreWrapper__LQnN7",
	"modalsWrapper": "Chat_modalsWrapper__YccT6",
	"leaveBtn": "Chat_leaveBtn__xTdIg",
	"leaveBtnOpen": "Chat_leaveBtnOpen__6j3qG",
	"moreTab": "Chat_moreTab__hIKAr",
	"isOnline": "Chat_isOnline__8fqD_",
	"openMoreTab": "Chat_openMoreTab__3_Lzt",
	"moreIcon": "Chat_moreIcon__Gqf64",
	"moreIconOpen": "Chat_moreIconOpen__jFGix",
	"title": "Chat_title__KYI9W",
	"isOnlineOpen": "Chat_isOnlineOpen__Wx25s",
	"roomInfo": "Chat_roomInfo__TKx76",
	"exitIcon": "Chat_exitIcon__D25cP",
	"exitIconOpen": "Chat_exitIconOpen__XtEAf",
	"autoSizerWrapper": "Chat_autoSizerWrapper__KPzgq",
	"messages": "Chat_messages__0FbOJ",
	"scrollThumbOpened": "Chat_scrollThumbOpened__yiyKw",
	"noMessagesDiv": "Chat_noMessagesDiv__HDkWc",
	"inputBar": "Chat_inputBar__tlrbi",
	"fileAdded": "Chat_fileAdded__E9vTB",
	"fileAddedOpen": "Chat_fileAddedOpen__rwbNk",
	"add": "Chat_add__nHoLW",
	"open": "Chat_open__tF_Zo",
	"send": "Chat_send__bgUd4",
	"sendOpen": "Chat_sendOpen__nWiRf",
	"loading": "Chat_loading__EatFz",
	"loadingOpen": "Chat_loadingOpen__f61II",
	"inputOpen": "Chat_inputOpen__zJyQ8",
	"svg": "Chat_svg__EoGrY",
	"chatBlackTheme": "Chat_chatBlackTheme__yIcV8",
	"pickBtn": "Chat_pickBtn__CaiV7",
	"avatar": "Chat_avatar__9yQ1I",
	"btn": "Chat_btn__d5Ss1"
};


/***/ }),

/***/ 3855:
/***/ ((module) => {

// Exports
module.exports = {
	"input": "FormInput_input__6nD_x",
	"inputBlackTheme": "FormInput_inputBlackTheme__T0HKC",
	"incorrect": "FormInput_incorrect__WWAsY"
};


/***/ }),

/***/ 176:
/***/ ((module) => {

// Exports
module.exports = {
	"form": "Form_form__ictTD",
	"formBlackTheme": "Form_formBlackTheme__9C_dc"
};


/***/ }),

/***/ 4099:
/***/ ((module) => {

// Exports
module.exports = {
	"friends": "Friends_friends__UxyeZ",
	"paginationBar": "Friends_paginationBar__Z2EHR",
	"page": "Friends_page__kDr7r",
	"pageOpen": "Friends_pageOpen__Ytr3I",
	"pageSelected": "Friends_pageSelected__X4imM",
	"leftEndOpen": "Friends_leftEndOpen__kVSRP",
	"rightEndOpen": "Friends_rightEndOpen__JfSho",
	"actions": "Friends_actions__a8Qw4",
	"searchBar": "Friends_searchBar__2iNYG",
	"filter": "Friends_filter__pBbrN",
	"arrow": "Friends_arrow__qMMML",
	"filterChoice": "Friends_filterChoice__bww36",
	"arrowIconOpen": "Friends_arrowIconOpen__bf_3o",
	"choicesList": "Friends_choicesList__Kp6sm",
	"chosen": "Friends_chosen__17rU6",
	"choice": "Friends_choice__ZtxU7",
	"choicesListOpen": "Friends_choicesListOpen__UPPoc",
	"usersList": "Friends_usersList__GwYA4",
	"userCard": "Friends_userCard__fj02v",
	"friendsBlackTheme": "Friends_friendsBlackTheme__HCMhB"
};


/***/ }),

/***/ 7032:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Loading_wrapper__vSE4u",
	"loading": "Loading_loading__h0RYs",
	"span": "Loading_span__NpCbw"
};


/***/ }),

/***/ 1699:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Login_wrapper__4dR0y",
	"form": "Login_form__wSUHQ",
	"button": "Login_button__5g_ls"
};


/***/ }),

/***/ 4002:
/***/ ((module) => {

// Exports
module.exports = {
	"message": "Message_message__gGsr0",
	"content": "Message_content__vOOEJ",
	"text": "Message_text__srJiT",
	"photo": "Message_photo__FYcFQ",
	"video": "Message_video__SgGUE",
	"avatar": "Message_avatar__2MFR3",
	"timeCreated": "Message_timeCreated___HjL2",
	"myMessage": "Message_myMessage__1MMZV",
	"notMyMessage": "Message_notMyMessage__2H5yt",
	"messageBlackTheme": "Message_messageBlackTheme__AvTgH",
	"myMessageBlackTheme": "Message_myMessageBlackTheme__qE5hi",
	"notMyMessageBlackTheme": "Message_notMyMessageBlackTheme__4hIMI"
};


/***/ }),

/***/ 5982:
/***/ ((module) => {

// Exports
module.exports = {
	"messanger": "Messanger_messanger__aH0l4",
	"additionals": "Messanger_additionals___bXdy",
	"chatListIcon": "Messanger_chatListIcon__6lp7v",
	"iconPressed": "Messanger_iconPressed__X2PH8",
	"chatActions": "Messanger_chatActions__Gp_BK",
	"chatList": "Messanger_chatList__bUcMF",
	"chatActionsOpen": "Messanger_chatActionsOpen___5Eab",
	"chatListOpen": "Messanger_chatListOpen__cskCl",
	"chat": "Messanger_chat__1uNJx",
	"messangerBlackTheme": "Messanger_messangerBlackTheme__yTQA9",
	"additionalsOpen": "Messanger_additionalsOpen__scYmh",
	"chatOpen": "Messanger_chatOpen__TJ8VF"
};


/***/ }),

/***/ 7550:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "ModalWindow_wrapper__eVAzR",
	"shadow": "ModalWindow_shadow__mZwIW",
	"modal": "ModalWindow_modal__Z14Bd"
};


/***/ }),

/***/ 641:
/***/ ((module) => {

// Exports
module.exports = {
	"notificationList": "NotificationList_notificationList__kQO1z"
};


/***/ }),

/***/ 1784:
/***/ ((module) => {

// Exports
module.exports = {
	"unread": "NotificationUnread_unread__u15HC",
	"unreadOpen": "NotificationUnread_unreadOpen__REZqr",
	"unreadBlackTheme": "NotificationUnread_unreadBlackTheme__KxPH1"
};


/***/ }),

/***/ 8625:
/***/ ((module) => {

// Exports
module.exports = {
	"notification": "Notification_notification__dmYbL",
	"svgFriendAcception": "Notification_svgFriendAcception__uJ0rK",
	"text": "Notification_text__k2Mhk",
	"notificationBlackTheme": "Notification_notificationBlackTheme__1KA9_"
};


/***/ }),

/***/ 2747:
/***/ ((module) => {

// Exports
module.exports = {
	"profile": "Profile_profile__v1CLi",
	"photo": "Profile_photo__TGPhR",
	"mainInfo": "Profile_mainInfo__F_dMQ",
	"name": "Profile_name__pQglx",
	"input": "Profile_input__CIGZw",
	"statistics": "Profile_statistics__zx2Kh",
	"stat": "Profile_stat___Zf4R",
	"description": "Profile_description__YTAr_",
	"descriptionInput": "Profile_descriptionInput__axBhe",
	"additionalInfo": "Profile_additionalInfo__5WCRD",
	"birthdayInput": "Profile_birthdayInput__Lzjts",
	"h1": "Profile_h1__iXcdF",
	"actions": "Profile_actions__mFYfC",
	"hiddenInputWrap": "Profile_hiddenInputWrap__OgXCA",
	"hiddenInput": "Profile_hiddenInput__OMa2w",
	"profileBlackTheme": "Profile_profileBlackTheme__JJmAv",
	"photoWrapper": "Profile_photoWrapper__4qQCR",
	"btn": "Profile_btn__dK1Hb"
};


/***/ }),

/***/ 3460:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Register_wrapper__dwfvT",
	"form": "Register_form__uc_J9",
	"firstIinput": "Register_firstIinput__wO41o",
	"btnGroup": "Register_btnGroup__lwl07",
	"button": "Register_button__ucFG9",
	"closed": "Register_closed__Xx8HZ"
};


/***/ }),

/***/ 1258:
/***/ ((module) => {

// Exports
module.exports = {
	"room": "Room_room__INJTv",
	"upperBar": "Room_upperBar__2jNtQ",
	"roomInfo": "Room_roomInfo__GOjOF",
	"avatarWrapper": "Room_avatarWrapper__rQI31",
	"isOnlineWrapper": "Room_isOnlineWrapper__U_8bu",
	"isOnline": "Room_isOnline__oBGUa",
	"isOnlineOpen": "Room_isOnlineOpen__K_udM",
	"roomName": "Room_roomName__5ZBHH",
	"lastMessageTime": "Room_lastMessageTime__h4Fzf",
	"lastMessage": "Room_lastMessage__Tv667",
	"content": "Room_content__x7za6",
	"lastMessageIcon": "Room_lastMessageIcon__wrNlx",
	"currentRoom": "Room_currentRoom__hL2FR",
	"roomBlackTheme": "Room_roomBlackTheme__COTZT",
	"unread": "Room_unread__4nhOE",
	"currentRoomBlackTheme": "Room_currentRoomBlackTheme__PtJ64",
	"avatar": "Room_avatar__XsAeO",
	"avatarDialog": "Room_avatarDialog__NvZze"
};


/***/ }),

/***/ 1346:
/***/ ((module) => {

// Exports
module.exports = {
	"searchBar": "SearchBar_searchBar__1W25z",
	"input": "SearchBar_input__NgViH",
	"searchBarBlackTheme": "SearchBar_searchBarBlackTheme__0DC6S"
};


/***/ }),

/***/ 2941:
/***/ ((module) => {

// Exports
module.exports = {
	"settings": "Settings_settings__s9Lf8",
	"setting": "Settings_setting__Aq_tc",
	"settingsBlackTheme": "Settings_settingsBlackTheme__W6OJ0"
};


/***/ }),

/***/ 544:
/***/ ((module) => {

// Exports
module.exports = {
	"userCard": "UserCard_userCard__4bjtL",
	"main": "UserCard_main__W_vdI",
	"name": "UserCard_name__FZxih",
	"statusWord": "UserCard_statusWord__aN17p",
	"actions": "UserCard_actions___tv7i",
	"svg": "UserCard_svg__KpNbx",
	"open": "UserCard_open__kuUqv",
	"userCardBlackTheme": "UserCard_userCardBlackTheme__dTewA"
};


/***/ }),

/***/ 4747:
/***/ ((module) => {

// Exports
module.exports = {
	"wrapper": "Warning_wrapper__569FQ",
	"warning": "Warning_warning__NT3lg",
	"svg": "Warning_svg__2k7ug",
	"svgOpen": "Warning_svgOpen__K3QCx",
	"dangerWarning": "Warning_dangerWarning__uKjny",
	"successWarning": "Warning_successWarning__0wFlr"
};


/***/ }),

/***/ 2771:
/***/ ((module) => {

// Exports
module.exports = {
	"layout": "Layout_layout__QGH5Z",
	"unauthorized": "Layout_unauthorized__LoxtF",
	"sidebar": "Layout_sidebar__vI_4_",
	"main": "Layout_main__KnXuN",
	"mainBlackTheme": "Layout_mainBlackTheme__FD2ui",
	"open": "Layout_open__TGRk0"
};


/***/ }),

/***/ 3780:
/***/ ((module) => {

// Exports
module.exports = {
	"sidebar": "Sidebar_sidebar__CTFkl",
	"user": "Sidebar_user__Lf40O",
	"name": "Sidebar_name__6B2D1",
	"actions": "Sidebar_actions__pP7Ve",
	"logoutButton": "Sidebar_logoutButton__Mr2no",
	"nav": "Sidebar_nav__252as",
	"buttonWrapper": "Sidebar_buttonWrapper__Nv_6D",
	"button": "Sidebar_button__sfAm5",
	"svg": "Sidebar_svg__sO44S",
	"unread": "Sidebar_unread__nKT11",
	"link": "Sidebar_link__YFRqD",
	"active": "Sidebar_active__OIZHM",
	"sidebarBlackTheme": "Sidebar_sidebarBlackTheme__bvusR",
	"avatar": "Sidebar_avatar___OiBP",
	"unreadWrapper": "Sidebar_unreadWrapper__4XyTY"
};


/***/ }),

/***/ 959:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Messanger": () => (/* binding */ Messanger)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var mobx_react_lite__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5944);
/* harmony import */ var mobx_react_lite__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mobx_react_lite__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5152);
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4942);
/* harmony import */ var _Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5982);
/* harmony import */ var _Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6__);







const ChatList = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_4__["default"])(null, {
    loadableGenerated: {
        modules: [
            "..\\components\\Messanger\\index.tsx -> " + "./../ChatList"
        ]
    },
    ssr: false
});
const ChatActions = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_4__["default"])(null, {
    loadableGenerated: {
        modules: [
            "..\\components\\Messanger\\index.tsx -> " + "./../ChatActions"
        ]
    },
    ssr: false
});
const Chat = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_4__["default"])(null, {
    loadableGenerated: {
        modules: [
            "..\\components\\Messanger\\index.tsx -> " + "./../Chat"
        ]
    },
    ssr: false
});
const Messanger = (0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_3__.observer)(({ className , ...props })=>{
    const { 0: chatListOpen , 1: setChatListOpen  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const { RoomStore , UserStore  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context__WEBPACK_IMPORTED_MODULE_5__/* .GlobalContext */ .k);
    const { theme  } = UserStore;
    const { RoomsArray , currentRoom  } = RoomStore;
    const handleOpenChatList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{
        if (screen.width >= 768) {
            return;
        }
        setChatListOpen(true);
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (currentRoom && screen.width < 768) {
            setChatListOpen(false);
        }
    }, [
        currentRoom
    ]);
    if (!RoomsArray) return(/*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}));
    return(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(className, (_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().messanger), {
            [(_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().messangerBlackTheme)]: theme === 'black'
        }),
        ...props,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().additionals), {
                    [(_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().additionalsOpen)]: chatListOpen
                }),
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(ChatActions, {
                        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().chatActions), {
                            [(_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().chatActionsOpen)]: chatListOpen
                        })
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(ChatList, {
                        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().chatList), {
                            [(_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().chatListOpen)]: chatListOpen
                        })
                    })
                ]
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Chat, {
                className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().chat), {
                    [(_Messanger_module_scss__WEBPACK_IMPORTED_MODULE_6___default().chatOpen)]: !chatListOpen
                }),
                exit: handleOpenChatList
            })
        ]
    }));
});
Messanger.displayName = 'Messanger';


/***/ }),

/***/ 9074:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "e9": () => (/* reexport */ Anonymous),
  "qE": () => (/* reexport */ Avatar),
  "zx": () => (/* reexport */ Button),
  "l0": () => (/* reexport */ Form),
  "yt": () => (/* reexport */ FormInput),
  "_O": () => (/* reexport */ Friends),
  "gb": () => (/* reexport */ Loading),
  "m3": () => (/* reexport */ Login),
  "v0": () => (/* reexport */ Message),
  "P_": () => (/* reexport */ Notification),
  "xG": () => (/* reexport */ NotificationList),
  "lW": () => (/* reexport */ NotificationUnread),
  "NZ": () => (/* reexport */ Profile),
  "aX": () => (/* reexport */ Register),
  "du": () => (/* reexport */ Room),
  "E1": () => (/* reexport */ SearchBar),
  "Zr": () => (/* reexport */ Settings),
  "Oe": () => (/* reexport */ UserCard)
});

// UNUSED EXPORTS: Chat, ChatActions, ChatList, Messanger, ModalWindow, Warning

// EXTERNAL MODULE: external "react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(997);
// EXTERNAL MODULE: ./node_modules/next/link.js
var next_link = __webpack_require__(1664);
// EXTERNAL MODULE: external "classnames"
var external_classnames_ = __webpack_require__(9003);
var external_classnames_default = /*#__PURE__*/__webpack_require__.n(external_classnames_);
// EXTERNAL MODULE: ./components/Anonymous/Anonymous.module.scss
var Anonymous_module = __webpack_require__(1090);
var Anonymous_module_default = /*#__PURE__*/__webpack_require__.n(Anonymous_module);
;// CONCATENATED MODULE: ./components/Anonymous/index.tsx




const Anonymous = ({ className , ...props })=>{
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (Anonymous_module_default()).wrapper),
        ...props,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                children: "WFNChat - это мессенджер"
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Anonymous_module_default()).anonymous,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(next_link["default"], {
                        href: '/login',
                        children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                            className: (Anonymous_module_default()).link,
                            children: "Войдите"
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("span", {
                        children: "\xa0или\xa0"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(next_link["default"], {
                        href: '/register',
                        children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                            className: (Anonymous_module_default()).link,
                            children: "зарегистрируйтесь,"
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (Anonymous_module_default()).textCentered,
                        children: "\xa0чтобы начать пользоваться приложением"
                    })
                ]
            })
        ]
    }));
};
Anonymous.displayName = 'Anonymous';

// EXTERNAL MODULE: external "mobx-react-lite"
var external_mobx_react_lite_ = __webpack_require__(5944);
// EXTERNAL MODULE: ./components/Avatar/Avatar.module.scss
var Avatar_module = __webpack_require__(1830);
var Avatar_module_default = /*#__PURE__*/__webpack_require__.n(Avatar_module);
;// CONCATENATED MODULE: ./components/Avatar/index.tsx




const Avatar = (0,external_mobx_react_lite_.observer)(({ object , className , edgeType , size , cursor , cover , title , ...props })=>{
    const photoWrapperClassName = external_classnames_default()(className, {
        [(Avatar_module_default()).pointer]: cursor === 'pointer',
        [(Avatar_module_default()).size300]: size === 300,
        [(Avatar_module_default()).size90]: size === 90,
        [(Avatar_module_default()).size86]: size === 86,
        [(Avatar_module_default()).size54]: size === 54,
        [(Avatar_module_default()).size36]: size === 36
    });
    const photoClassName = external_classnames_default()((Avatar_module_default()).photo, {
        [(Avatar_module_default()).cover]: cover,
        [(Avatar_module_default()).round6]: edgeType === 'round_6',
        [(Avatar_module_default()).circle]: edgeType === 'circle'
    });
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: photoWrapperClassName,
        ...props,
        children: object && object?.photo ? /*#__PURE__*/ jsx_runtime_.jsx("img", {
            title: title,
            src: object.photo,
            className: photoClassName,
            alt: 'фото',
            width: 90,
            height: 90
        }) : object && Object.prototype.hasOwnProperty.call(object, 'isGroup') ? /*#__PURE__*/ jsx_runtime_.jsx("img", {
            title: title,
            width: 90,
            height: 90,
            alt: 'фото',
            src: '/photos/noAvatarGroup.webp',
            className: photoClassName
        }) : /*#__PURE__*/ jsx_runtime_.jsx("img", {
            title: title,
            width: 300,
            height: 300,
            alt: 'фото',
            src: '/photos/noAvatar.webp',
            className: photoClassName
        })
    }));
});
Avatar.displayName = 'Avatar';

// EXTERNAL MODULE: ./components/Button/Button.module.scss
var Button_module = __webpack_require__(5168);
var Button_module_default = /*#__PURE__*/__webpack_require__.n(Button_module);
;// CONCATENATED MODULE: ./components/Button/index.tsx



const Button = ({ className , children , color , size , animations , ...props })=>{
    return(/*#__PURE__*/ jsx_runtime_.jsx("button", {
        className: external_classnames_default()(className, (Button_module_default()).button, {
            [(Button_module_default()).buttonBlackTheme]: color === 'black',
            [(Button_module_default()).size280]: size === 280,
            [(Button_module_default()).size240]: size === 240,
            [(Button_module_default()).size125]: size === 125,
            [(Button_module_default()).baseAnimated]: animations?.includes('base'),
            [(Button_module_default()).baseAnimatedBlackTheme]: animations?.includes('base') && color === 'black',
            [(Button_module_default()).successAnimated]: animations?.includes('success'),
            [(Button_module_default()).failureAnimated]: animations?.includes('danger')
        }),
        ...props,
        children: children
    }));
};
Button.displayName = 'Button';

// EXTERNAL MODULE: external "react"
var external_react_ = __webpack_require__(6689);
// EXTERNAL MODULE: ./node_modules/next/dynamic.js
var dynamic = __webpack_require__(5152);
// EXTERNAL MODULE: external "react-window"
var external_react_window_ = __webpack_require__(551);
// EXTERNAL MODULE: external "react-virtualized-auto-sizer"
var external_react_virtualized_auto_sizer_ = __webpack_require__(8041);
var external_react_virtualized_auto_sizer_default = /*#__PURE__*/__webpack_require__.n(external_react_virtualized_auto_sizer_);
// EXTERNAL MODULE: ./context/index.ts
var context = __webpack_require__(4942);
// EXTERNAL MODULE: ./WebSocket/index.ts
var WebSocket = __webpack_require__(6942);
// EXTERNAL MODULE: ./WebSocket/WebSocketSettings.ts
var WebSocketSettings = __webpack_require__(8689);
// EXTERNAL MODULE: ./helpers/index.ts + 1 modules
var helpers = __webpack_require__(2175);
// EXTERNAL MODULE: ./globalSettings.ts
var globalSettings = __webpack_require__(2076);
;// CONCATENATED MODULE: ./components/Chat/ChatSettings.ts
const defaultMessageHeight = 900;
const overscanCount = 20;

;// CONCATENATED MODULE: ./public/icons/send.svg
var _defs, _circle, _linearGradient;

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var SvgSend = function SvgSend(props) {
  return /*#__PURE__*/external_react_.createElement("svg", _extends({
    width: 92,
    height: 92,
    fill: "none"
  }, props), _defs || (_defs = /*#__PURE__*/external_react_.createElement("defs", null, /*#__PURE__*/external_react_.createElement("filter", {
    id: "send_svg__b",
    x: 31,
    y: 32,
    width: 24,
    height: 24,
    filterUnits: "userSpaceOnUse",
    colorInterpolationFilters: "sRGB"
  }, /*#__PURE__*/external_react_.createElement("feBlend", {
    "in": "SourceGraphic",
    in2: "effect2_dropShadow_1_390",
    result: "shape"
  })), /*#__PURE__*/external_react_.createElement("mask", {
    id: "send_svg__c",
    maskUnits: "userSpaceOnUse",
    x: 34,
    y: 36,
    width: 16,
    height: 16
  }, /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M44.39 51.333a.832.832 0 0 1-.817-.667L42.29 44.36a.833.833 0 0 0-.651-.65l-6.306-1.283a.832.832 0 0 1-.097-1.606l13.333-4.444a.834.834 0 0 1 1.054 1.053L45.18 50.763a.832.832 0 0 1-.79.57",
    fill: "#fff"
  })))), _circle || (_circle = /*#__PURE__*/external_react_.createElement("circle", {
    cx: 20,
    cy: 20,
    r: 20,
    fill: "url(#send_svg__a)"
  })), /*#__PURE__*/external_react_.createElement("g", {
    filter: "url(#send_svg__filter1_dd_1_390)",
    transform: "matrix(1.15642 0 0 1.19167 -29.364 -32.482)",
    style: {
      strokeWidth: 0.851854,
      filter: "url(#send_svg__b)"
    }
  }, /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#send_svg__c)",
    style: {
      strokeWidth: 0.851854
    }
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "#fff",
    style: {
      strokeWidth: 0.785836
    },
    d: "M33 33h20v20H33z"
  }))), _linearGradient || (_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "send_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  }))));
};

/* harmony default export */ const send = (SvgSend);
;// CONCATENATED MODULE: ./public/icons/add.svg
var add_circle, _path, _path2, _g, add_defs;

function add_extends() { add_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return add_extends.apply(this, arguments); }



var SvgAdd = function SvgAdd(props) {
  return /*#__PURE__*/external_react_.createElement("svg", add_extends({
    width: 40,
    height: 40,
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), add_circle || (add_circle = /*#__PURE__*/external_react_.createElement("circle", {
    cx: 20,
    cy: 20,
    r: 20,
    fill: "url(#add_svg__a)"
  })), /*#__PURE__*/external_react_.createElement("g", {
    filter: "url(#add_svg__b)"
  }, _path || (_path = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M27 19h-6v-6a1 1 0 1 0-2 0v6h-6a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2Z",
    fill: "#231F20"
  })), /*#__PURE__*/external_react_.createElement("mask", {
    id: "add_svg__c",
    style: {
      maskType: "alpha"
    },
    maskUnits: "userSpaceOnUse",
    x: 12,
    y: 12,
    width: 16,
    height: 16
  }, _path2 || (_path2 = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M27 19h-6v-6a1 1 0 1 0-2 0v6h-6a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2Z",
    fill: "#fff"
  }))), _g || (_g = /*#__PURE__*/external_react_.createElement("g", {
    filter: "url(#add_svg__d)",
    mask: "url(#add_svg__c)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "#fff",
    d: "M8 8h24v24H8z"
  })))), add_defs || (add_defs = /*#__PURE__*/external_react_.createElement("defs", null, /*#__PURE__*/external_react_.createElement("filter", {
    id: "add_svg__b",
    x: 6,
    y: 7,
    width: 28,
    height: 28,
    filterUnits: "userSpaceOnUse",
    colorInterpolationFilters: "sRGB"
  }, /*#__PURE__*/external_react_.createElement("feFlood", {
    floodOpacity: 0,
    result: "BackgroundImageFix"
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    "in": "SourceAlpha",
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
    result: "hardAlpha"
  }), /*#__PURE__*/external_react_.createElement("feOffset", {
    dy: 1
  }), /*#__PURE__*/external_react_.createElement("feGaussianBlur", {
    stdDeviation: 0.5
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"
  }), /*#__PURE__*/external_react_.createElement("feBlend", {
    in2: "BackgroundImageFix",
    result: "effect1_dropShadow_1_404"
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    "in": "SourceAlpha",
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
    result: "hardAlpha"
  }), /*#__PURE__*/external_react_.createElement("feOffset", {
    dy: 1
  }), /*#__PURE__*/external_react_.createElement("feGaussianBlur", {
    stdDeviation: 1
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"
  }), /*#__PURE__*/external_react_.createElement("feBlend", {
    in2: "effect1_dropShadow_1_404",
    result: "effect2_dropShadow_1_404"
  }), /*#__PURE__*/external_react_.createElement("feBlend", {
    "in": "SourceGraphic",
    in2: "effect2_dropShadow_1_404",
    result: "shape"
  })), /*#__PURE__*/external_react_.createElement("filter", {
    id: "add_svg__d",
    x: 6,
    y: 7,
    width: 28,
    height: 28,
    filterUnits: "userSpaceOnUse",
    colorInterpolationFilters: "sRGB"
  }, /*#__PURE__*/external_react_.createElement("feFlood", {
    floodOpacity: 0,
    result: "BackgroundImageFix"
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    "in": "SourceAlpha",
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
    result: "hardAlpha"
  }), /*#__PURE__*/external_react_.createElement("feOffset", {
    dy: 1
  }), /*#__PURE__*/external_react_.createElement("feGaussianBlur", {
    stdDeviation: 0.5
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"
  }), /*#__PURE__*/external_react_.createElement("feBlend", {
    in2: "BackgroundImageFix",
    result: "effect1_dropShadow_1_404"
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    "in": "SourceAlpha",
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
    result: "hardAlpha"
  }), /*#__PURE__*/external_react_.createElement("feOffset", {
    dy: 1
  }), /*#__PURE__*/external_react_.createElement("feGaussianBlur", {
    stdDeviation: 1
  }), /*#__PURE__*/external_react_.createElement("feColorMatrix", {
    values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"
  }), /*#__PURE__*/external_react_.createElement("feBlend", {
    in2: "effect1_dropShadow_1_404",
    result: "effect2_dropShadow_1_404"
  }), /*#__PURE__*/external_react_.createElement("feBlend", {
    "in": "SourceGraphic",
    in2: "effect2_dropShadow_1_404",
    result: "shape"
  })), /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "add_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  })))));
};

/* harmony default export */ const add = (SvgAdd);
;// CONCATENATED MODULE: ./public/icons/more.svg
var more_defs, more_g;

function more_extends() { more_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return more_extends.apply(this, arguments); }



var SvgMore = function SvgMore(props) {
  return /*#__PURE__*/external_react_.createElement("svg", more_extends({
    width: 45,
    height: 45,
    fill: "#fff"
  }, props), more_defs || (more_defs = /*#__PURE__*/external_react_.createElement("defs", null, /*#__PURE__*/external_react_.createElement("mask", {
    id: "more_svg__a",
    maskUnits: "userSpaceOnUse",
    x: 49,
    y: 37,
    width: 4,
    height: 18
  }, /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M51 41a2 2 0 1 0-.001-4.001A2 2 0 0 0 51 41zm0 3a2 2 0 1 0 .001 4.001A2 2 0 0 0 51 44zm-2 9a2 2 0 1 1 4.001.001A2 2 0 0 1 49 53z"
  })))), /*#__PURE__*/external_react_.createElement("ellipse", {
    style: {
      stroke: "#fff",
      strokeWidth: 0.1,
      strokeMiterlimit: 4,
      strokeDasharray: "none",
      strokeOpacity: 1
    },
    cx: 22.714,
    cy: 22.29,
    rx: 22.544,
    ry: 22.047
  }), more_g || (more_g = /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#more_svg__a)",
    transform: "translate(-28.865 -23.68)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "#707c97",
    d: "M39 34h24v24H39z"
  }))));
};

/* harmony default export */ const more = (SvgMore);
;// CONCATENATED MODULE: ./public/icons/exitArrow.svg
var exitArrow_path, exitArrow_linearGradient;

function exitArrow_extends() { exitArrow_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return exitArrow_extends.apply(this, arguments); }



var SvgExitArrow = function SvgExitArrow(props) {
  return /*#__PURE__*/external_react_.createElement("svg", exitArrow_extends({
    xmlns: "http://www.w3.org/2000/svg",
    "data-name": "Layer 1",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30
  }, props), exitArrow_path || (exitArrow_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M24 13v-2l-21.445.031 4.322-4.324-1.414-1.414L.877 9.879a3 3 0 0 0 0 4.242l4.586 4.586 1.414-1.414-4.262-4.262Z",
    fill: "url(#exitArrow_svg__a)"
  })), exitArrow_linearGradient || (exitArrow_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "exitArrow_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#707C97"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#707C97"
  }))));
};

/* harmony default export */ const exitArrow = (SvgExitArrow);
;// CONCATENATED MODULE: ./public/svgAnimations/loading.svg
var loading_circle, _circle2, _circle3, loading_linearGradient;

function loading_extends() { loading_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return loading_extends.apply(this, arguments); }



var SvgLoading = function SvgLoading(props) {
  return /*#__PURE__*/external_react_.createElement("svg", loading_extends({
    xmlns: "http://www.w3.org/2000/svg",
    width: 40,
    height: 40,
    xmlSpace: "preserve"
  }, props), loading_circle || (loading_circle = /*#__PURE__*/external_react_.createElement("circle", {
    fill: "url(#loading_svg__a)",
    cx: 7.5,
    cy: 20,
    r: 5
  }, /*#__PURE__*/external_react_.createElement("animateTransform", {
    attributeName: "transform",
    dur: "1s",
    type: "translate",
    values: "0 3 ; 0 -3; 0 3",
    repeatCount: "indefinite",
    begin: 0.1
  }))), _circle2 || (_circle2 = /*#__PURE__*/external_react_.createElement("circle", {
    fill: "url(#loading_svg__a)",
    cx: 20,
    cy: 20,
    r: 5
  }, /*#__PURE__*/external_react_.createElement("animateTransform", {
    attributeName: "transform",
    dur: "1s",
    type: "translate",
    values: "0 2 ; 0 -2; 0 2",
    repeatCount: "indefinite",
    begin: 0.2
  }))), _circle3 || (_circle3 = /*#__PURE__*/external_react_.createElement("circle", {
    fill: "url(#loading_svg__a)",
    cx: 32.5,
    cy: 20,
    r: 5
  }, /*#__PURE__*/external_react_.createElement("animateTransform", {
    attributeName: "transform",
    dur: "1s",
    type: "translate",
    values: "0 1 ; 0 -1; 0 1",
    repeatCount: "indefinite",
    begin: 0.3
  }))), loading_linearGradient || (loading_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "loading_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  }))));
};

/* harmony default export */ const loading = (SvgLoading);
// EXTERNAL MODULE: ./components/Chat/Chat.module.scss
var Chat_module = __webpack_require__(5218);
var Chat_module_default = /*#__PURE__*/__webpack_require__.n(Chat_module);
;// CONCATENATED MODULE: ./components/Chat/index.tsx




















const ModalWindow = (0,dynamic["default"])(null, {
    loadableGenerated: {
        modules: [
            "..\\components\\Chat\\index.tsx -> " + "./../ModalWindow"
        ]
    },
    ssr: false
});
const Chat = (0,external_mobx_react_lite_.observer)(({ className , exit , ...props })=>{
    const { 0: modalOpen , 1: setModalOpen  } = (0,external_react_.useState)(false);
    const { 0: fileName , 1: setFileName  } = (0,external_react_.useState)('не выбрано');
    const { 0: moreTabOpen , 1: setMoreTabOpen  } = (0,external_react_.useState)(false);
    const { 0: sendingStartTime , 1: setSendingStartTime  } = (0,external_react_.useState)(0) // Хранит время отправки сообщения для показа индикатора загрузки
    ;
    const { 0: closed , 1: setClosed  } = (0,external_react_.useState)(false) // Отвечает за скрытие-открытие сообщений
    ;
    const { 0: needScrollDown , 1: setNeedScrollDown  } = (0,external_react_.useState)(false) // Отвечает за скролл в самый низ
    ;
    const { 0: canScrollWDown , 1: setCanScrollWDown  } = (0,external_react_.useState)(true) // Отвечает за скролл при каждом новом сообщении
    ;
    const { 0: addedFileName , 1: setAddedFileName  } = (0,external_react_.useState)('');
    const addRef = (0,external_react_.useRef)(null);
    const moreTabRef = (0,external_react_.useRef)(null);
    const typeInputRef = (0,external_react_.useRef)(null);
    const messagesRef = (0,external_react_.useRef)(null);
    const hiddenInputRef = (0,external_react_.useRef)(null);
    const chatNameRef = (0,external_react_.useRef)(null);
    const formRef = (0,external_react_.useRef)(null);
    const heights = (0,external_react_.useRef)(null) // Динамические высоты сообщений визуализированного списка
    ;
    const outerRef = (0,external_react_.useRef)(null) // Внешний ref визуализированного списка
    ;
    const ws = (0,external_react_.useRef)(null);
    const { RoomStore , UserStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { user , checkJWT , ObjectOfUsers , UsersFriends , theme , updateUserDataInDB , updateServiceWS  } = UserStore;
    const { currentRoom , filterRoomsArray , addMessageToRoom , updateRoom , changeCurrentRoom , getMoreMessages  } = RoomStore;
    const { 0: filteredFriends , 1: setFilteredFriends  } = (0,external_react_.useState)(UsersFriends);
    const inlineStyles = {
        messagesContainer: {
            height: '100%',
            width: '100%'
        },
        autoSizerWrapperJunior: {
            display: 'flex',
            flexGrow: 1,
            height: "100%",
            width: '100%'
        }
    };
    const handleFileAdded = ()=>{
        setAddedFileName(addRef?.current?.files[0]?.name);
    };
    const getRoomName = ()=>{
        let name = '';
        if (currentRoom?.name) {
            name = currentRoom.name;
            if (name.length <= 12 || screen.width >= 768) {
                return name;
            }
            return name.slice(0, 12) + '...';
        } else {
            const anotherUser = ObjectOfUsers[(0,helpers/* getAnotherUser */.N8)(currentRoom.users, user.id)];
            if (screen.width >= 768) {
                return anotherUser?.first_name + ' ' + anotherUser?.last_name;
            } else {
                return anotherUser?.first_name;
            }
        }
    };
    const getHeights = (index)=>{
        if (!heights?.current) return defaultMessageHeight;
        return heights?.current[index] ? heights?.current[index] : defaultMessageHeight;
    };
    const setHeights = (0,external_react_.useCallback)((index, size)=>{
        const chat = messagesRef?.current;
        chat.resetAfterIndex(0);
        heights.current = {
            ...heights.current,
            [index]: size
        };
    }, []);
    const handleAdd = (event)=>{
        if (event.target === addRef?.current) return;
        addRef?.current.click();
    };
    const handleAddPhoto = (event)=>{
        event.preventDefault();
        hiddenInputRef?.current.click();
    };
    const handleExit = ()=>{
        if (ws?.current) ws.current.disconnect();
        changeCurrentRoom(null);
        updateServiceWS({
            currentRoom: null
        });
        if (screen.width < 768) {
            exit();
        }
    };
    const handleLeaveChat = async ()=>{
        if (!await checkJWT()) {
            showWarning({
                type: 'danger',
                text: globalSettings/* AuthorizationErrorMessage */.dB,
                icon: 'exclamation'
            });
            return;
        }
        const response = await updateRoom({
            removed_users: [
                user.id
            ]
        }, currentRoom.id, user);
        if (!response) {
            showWarning({
                type: 'danger',
                text: 'Не удалось удалить чат',
                icon: 'exclamation'
            });
            return;
        }
        changeCurrentRoom(null);
        setMoreTabOpen(false);
    };
    const handleOpenEdit = (event)=>{
        event.preventDefault();
        setMoreTabOpen(false);
        document.removeEventListener('click', trackCLick);
        setModalOpen(modalOpen ? false : true);
    };
    const handleOpenMoreTab = (event)=>{
        event.preventDefault();
        if (!moreTabOpen) {
            document.addEventListener('click', trackCLick);
        } else {
            document.removeEventListener('click', trackCLick);
        }
        setMoreTabOpen(moreTabOpen ? false : true);
    };
    const handlePhotoEdit = ()=>{
        const input = hiddenInputRef?.current;
        setFileName(input?.files[0].name);
    };
    const handleScroll = async ({ scrollOffset  })=>{
        if (!currentRoom) {
            showWarning({
                type: 'danger',
                text: globalSettings/* AuthorizationErrorMessage */.dB,
                icon: 'exclamation'
            });
            return;
        }
        const chat = messagesRef?.current;
        if (!chat) return;
        // Если после проскролла вверх чат был опущен вниз, 
        // то скроллим вниз при каждом новом сообщении
        if (!canScrollWDown && Math.abs(scrollOffset - (outerRef.current.scrollHeight - outerRef.current.offsetHeight)) < 5) {
            setCanScrollWDown(true);
            return;
        }
        // Если чат проскроллен вверх
        // то запрашиваем новые сообщения и прекращаем скролл при каждом новом сообщении
        if (scrollOffset === 0 && currentRoom.messages.length >= 20) {
            if (!await checkJWT()) {
                showWarning({
                    type: 'danger',
                    text: globalSettings/* AuthorizationErrorMessage */.dB,
                    icon: 'exclamation'
                });
                return;
            }
            const oldMessagesAmount = currentRoom.messages.length;
            const messages = await getMoreMessages({
                room_id: currentRoom.id,
                count: 20,
                last_id: currentRoom.messages[0]?.id
            });
            if (messages?.length > 0) {
                setClosed(true);
                const chat = messagesRef.current;
                const unrealHeight = outerRef.current.scrollHeight;
                const interval = setInterval(()=>{
                    if (currentRoom.messages.length > oldMessagesAmount) {
                        if (unrealHeight != outerRef.current.scrollHeight) {
                            chat.scrollToItem(currentRoom.messages.length - oldMessagesAmount, 'start');
                            clearInterval(interval);
                            setClosed(false);
                            openScrollThumb();
                        }
                    }
                });
            }
            if (canScrollWDown) setCanScrollWDown(false);
        }
    };
    const handleSend = async (event)=>{
        if (event.type === 'keydown' && event.key != 'Enter') return;
        if (sendingStartTime) return;
        let video = null;
        let photo = null;
        const audio = null;
        let text = null;
        const types = [];
        const timestamp_created = (0,helpers/* makeTimeCreated */.H4)();
        setAddedFileName('');
        if (addRef?.current?.files[0]) {
            if ((0,helpers/* fileExtentionCorrect */.X4)('video', addRef.current.files[0]?.name)) {
                await (0,helpers/* createBase64 */.w0)(addRef.current.files[0]).then((base64)=>video = base64
                );
                types.push('Video');
            } else if ((0,helpers/* fileExtentionCorrect */.X4)('photo', addRef.current.files[0]?.name)) {
                await (0,helpers/* createBase64 */.w0)(addRef.current.files[0]).then((base64)=>photo = base64
                );
                types.push('Photo');
            } else {
                showWarning({
                    type: 'danger',
                    text: globalSettings/* IncorrectFileErrorMessage */.T6,
                    icon: 'exclamation'
                });
                addRef.current.value = '';
                return;
            }
        }
        text = (0,helpers/* convertToSpecialSymbols */.T4)(typeInputRef?.current.value);
        if (text) {
            types.push('Text');
        }
        if (text || photo || audio || video) {
            ws?.current.send({
                text: text,
                photo: photo,
                audio: audio,
                video: video,
                author: user.id,
                room: currentRoom.id,
                types: types,
                timestamp_created: timestamp_created
            });
            setSendingStartTime(timestamp_created);
        }
        typeInputRef.current.value = '';
        addRef.current.value = '';
        filterRoomsArray({
            first_room_id: currentRoom.id
        });
        typeInputRef.current.focus();
    };
    const handleSave = async (event)=>{
        event.preventDefault();
        if (!await checkJWT()) {
            showWarning({
                type: 'danger',
                text: globalSettings/* AuthorizationErrorMessage */.dB,
                icon: 'exclamation'
            });
            return;
        }
        const updatedData = {};
        const addedUsers = [];
        const formElements = formRef?.current?.elements;
        for(const element in formElements){
            const elem = formElements[element];
            if (elem instanceof HTMLInputElement) {
                if (elem.type === 'checkbox' && elem.checked) {
                    addedUsers.push(parseInt(elem.dataset['userid']));
                }
            }
        }
        if (addedUsers.length) {
            updatedData['added_users'] = addedUsers;
        }
        const photoName = hiddenInputRef?.current?.files[0];
        if (photoName) {
            if ((0,helpers/* fileExtentionCorrect */.X4)('photo', photoName.name)) {
                updatedData['photo'] = await (0,helpers/* createBase64 */.w0)(photoName);
            } else {
                showWarning({
                    type: 'danger',
                    text: globalSettings/* IncorrectFileErrorMessage */.T6,
                    icon: 'exclamation'
                });
                return;
            }
        }
        const name = (0,helpers/* convertToSpecialSymbols */.T4)(chatNameRef?.current?.value);
        if (name && (0,helpers/* nameChanged */.Zu)(currentRoom.name, name)) {
            if (name.length > 35) {
                showWarning({
                    type: 'danger',
                    text: 'Название должно содержать не более 35 символов',
                    icon: 'exclamation'
                });
                return;
            }
            updatedData['name'] = name;
        }
        if (Object.keys(updatedData).length === 0) return;
        const response = await updateRoom(updatedData, currentRoom.id, user);
        if (!response) {
            showWarning({
                type: 'danger',
                text: 'Не удалось обновить чат',
                icon: 'exclamation'
            });
            return;
        }
        showWarning({
            type: 'success',
            text: 'Данные обновлены',
            icon: 'ok'
        });
        setModalOpen(false);
        for (const id of addedUsers){
            const addedUser = ObjectOfUsers[id];
            const notifications = JSON.parse(addedUser.notifications);
            notifications.got_new_room = true;
            const updated = await updateUserDataInDB(addedUser.username, {
                notifications: JSON.stringify(notifications)
            });
            if (!updated) {
                showWarning({
                    type: 'danger',
                    text: 'Не удалось обновить чат',
                    icon: 'exclamation'
                });
                return;
            }
        }
    };
    const itemKey = (index)=>{
        return currentRoom?.messages[index].timestamp_created;
    };
    const openScrollThumb = ()=>{
        // Открытие прокрутки
        const chat = outerRef?.current;
        if (!chat) return;
        if (!chat.classList.contains((Chat_module_default()).scrollThumbOpened)) {
            chat.classList.add((Chat_module_default()).scrollThumbOpened);
        }
    };
    const scrollDown = ()=>{
        const chat = messagesRef.current;
        if (!chat) return;
        if (needScrollDown) {
            let newHeight = null;
            const interval = setInterval(()=>{
                const currentScrollHeight = outerRef.current.scrollHeight;
                if (newHeight == currentScrollHeight) {
                    clearInterval(interval);
                    chat.scrollToItem(currentRoom.messages.length - 1, 'start');
                    setNeedScrollDown(false);
                    return;
                }
                newHeight = currentScrollHeight;
            });
        }
    };
    const trackCLick = (event)=>{
        const target = event.target;
        if (target === moreTabRef?.current) return;
        let relatedTarget = target.parentNode;
        while(relatedTarget){
            if (relatedTarget === moreTabRef?.current) return;
            relatedTarget = relatedTarget.parentNode;
        }
        setMoreTabOpen(false);
    };
    (0,external_react_.useEffect)(()=>{
        return ()=>{
            handleExit();
        };
    }, []);
    (0,external_react_.useEffect)(()=>{
        const handleResize = ()=>{
            if (screen.width <= 768) {
                setNeedScrollDown(true);
            }
        };
        window.addEventListener('resize', handleResize);
        return ()=>window.removeEventListener('resize', handleResize)
        ;
    }, []);
    (0,external_react_.useEffect)(()=>{
        // Скролл при получении нового сообщения
        const chat = messagesRef.current;
        if (!canScrollWDown || !chat) return;
        chat.scrollToItem(currentRoom.messages.length - 1, 'start');
    }, [
        currentRoom?.last_message
    ]);
    (0,external_react_.useEffect)(()=>{
        if (!outerRef?.current) return;
        // Установка обработчика на wheel
        const element = outerRef?.current;
        element.addEventListener('wheel', openScrollThumb, {
            passive: true
        });
        return ()=>element.removeEventListener('wheel', openScrollThumb)
        ;
    }, [
        outerRef.current
    ]);
    (0,external_react_.useEffect)(()=>{
        // Подключение WebSocket при изменении текущей комнаты
        if (!currentRoom) return;
        if (ws?.current) ws.current.disconnect();
        ws.current = new WebSocket.WS(WebSocketSettings/* WebSocketChatURL */.Ue + `/${currentRoom.id}/` + `?username=${user.username}&token=${(0,helpers/* getCookie */.ej)('BaseToken')}`, (room_id, message)=>addMessageToRoom(room_id, message)
        , currentRoom.id);
    }, [
        currentRoom?.id
    ]);
    (0,external_react_.useEffect)(()=>{
        return document.removeEventListener('click', trackCLick);
    }, []);
    (0,external_react_.useEffect)(()=>{
        if (!currentRoom?.last_message) return;
        const last_message = JSON.parse(currentRoom?.last_message);
        if (last_message.timestamp_created === sendingStartTime) {
            setSendingStartTime(0);
        }
    }, [
        currentRoom?.last_message
    ]);
    (0,external_react_.useEffect)(()=>{
        if (!messagesRef.current) return;
        messagesRef;
    }, []);
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (Chat_module_default()).chat, {
            [(Chat_module_default()).chatBlackTheme]: theme === 'black'
        }),
        ...props,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(ModalWindow, {
                className: external_classnames_default()((Chat_module_default()).modal, {
                    [(Chat_module_default()).modalOpen]: modalOpen
                }),
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Form, {
                    className: (Chat_module_default()).innerModal,
                    ref: formRef,
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                            className: (Chat_module_default()).h2,
                            children: "Изменить название"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                            defaultValue: currentRoom?.name,
                            className: (Chat_module_default()).input,
                            ref: chatNameRef
                        }),
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: (Chat_module_default()).members,
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                    className: (Chat_module_default()).h2,
                                    children: "Добавить участников"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                                    placeholder: "Поиск...",
                                    className: (Chat_module_default()).input,
                                    onChange: (event)=>(0,helpers/* handleUsersSearch */.Fu)(event, (value)=>setFilteredFriends(value)
                                        , UsersFriends)
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                    className: (Chat_module_default()).membersList,
                                    children: filteredFriends[0] && filteredFriends?.filter((friend)=>!currentRoom?.users?.includes(friend?.id)
                                    )?.map((friend)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                            className: (Chat_module_default()).member,
                                            children: [
                                                friend?.first_name,
                                                " ",
                                                friend?.last_name,
                                                /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                                    type: "checkbox",
                                                    "data-userid": friend?.id
                                                })
                                            ]
                                        }, friend.id)
                                    )
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: (Chat_module_default()).photoChange,
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                    className: (Chat_module_default()).h2,
                                    children: "Изменить фото"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                                    title: currentRoom?.name,
                                    className: (Chat_module_default()).avatar,
                                    edgeType: "circle",
                                    object: currentRoom,
                                    size: 90,
                                    cover: true
                                }),
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: (Chat_module_default()).hiddenInputWrap,
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                            className: (Chat_module_default()).pickBtn,
                                            color: theme,
                                            animations: [
                                                'base'
                                            ],
                                            size: 125,
                                            onClick: handleAddPhoto,
                                            children: "Выбрать"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                            type: "file",
                                            className: (Chat_module_default()).hiddenInput,
                                            ref: hiddenInputRef,
                                            onChange: handlePhotoEdit
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                            className: (Chat_module_default()).fileName,
                                            children: fileName
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: (Chat_module_default()).btnGroup,
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                    className: (Chat_module_default()).btn,
                                    color: theme,
                                    animations: [
                                        'danger'
                                    ],
                                    size: 240,
                                    onClick: handleOpenEdit,
                                    children: "Назад"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                    className: (Chat_module_default()).btn,
                                    color: theme,
                                    animations: [
                                        'success'
                                    ],
                                    size: 240,
                                    onClick: handleSave,
                                    children: "Сохранить"
                                })
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: external_classnames_default()((Chat_module_default()).upperBar),
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(exitArrow, {
                        className: external_classnames_default()((Chat_module_default()).exitIcon, {
                            [(Chat_module_default()).exitIconOpen]: screen.width < 768
                        }),
                        onClick: handleExit
                    }),
                    currentRoom ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Chat_module_default()).roomInfo,
                        children: [
                            currentRoom.isGroup ? /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                                title: currentRoom?.name,
                                edgeType: "circle",
                                object: currentRoom,
                                size: 54,
                                cover: true
                            }) : /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                                title: (0,helpers/* getFullName */.Pp)(ObjectOfUsers[(0,helpers/* getAnotherUser */.N8)(currentRoom?.users, user.id)]),
                                edgeType: "circle",
                                cover: true,
                                size: 54,
                                object: ObjectOfUsers[(0,helpers/* getAnotherUser */.N8)(currentRoom?.users, user.id)]
                            }),
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: (Chat_module_default()).title,
                                children: [
                                    getRoomName(),
                                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        className: external_classnames_default()((Chat_module_default()).isOnline, {
                                            [(Chat_module_default()).isOnlineOpen]: !currentRoom.isGroup
                                        }),
                                        children: ObjectOfUsers[(0,helpers/* getAnotherUser */.N8)(currentRoom?.users, user.id)]?.isOnline ? 'в сети' : 'не в сети'
                                    })
                                ]
                            })
                        ]
                    }) : /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Chat_module_default()).moreWrapper,
                        ref: moreTabRef,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(more, {
                                onClick: handleOpenMoreTab,
                                className: external_classnames_default()((Chat_module_default()).svg, (Chat_module_default()).moreIcon, {
                                    [(Chat_module_default()).moreIconOpen]: currentRoom
                                })
                            }),
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: (Chat_module_default()).modalsWrapper,
                                children: [
                                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                        className: external_classnames_default()((Chat_module_default()).moreTab, {
                                            [(Chat_module_default()).openMoreTab]: moreTabOpen && currentRoom?.isGroup
                                        }),
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                                className: (Chat_module_default()).h2,
                                                children: "Участники"
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                className: (Chat_module_default()).membersList,
                                                children: currentRoom?.users.map((memberId)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                        className: (Chat_module_default()).member,
                                                        children: [
                                                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                                children: ObjectOfUsers[memberId]?.first_name + ' ' + ObjectOfUsers[memberId]?.last_name
                                                            }),
                                                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                                className: (Chat_module_default()).isOnline,
                                                                children: ObjectOfUsers[memberId]?.isOnline ? 'в сети' : 'не в сети'
                                                            })
                                                        ]
                                                    }, memberId)
                                                )
                                            }),
                                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                className: (Chat_module_default()).btnGroup,
                                                children: [
                                                    /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                                        className: (Chat_module_default()).btn,
                                                        color: theme,
                                                        animations: [
                                                            'base'
                                                        ],
                                                        size: 280,
                                                        onClick: handleOpenEdit,
                                                        children: "Редактировать"
                                                    }),
                                                    /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                                        className: (Chat_module_default()).btn,
                                                        color: theme,
                                                        animations: [
                                                            'danger'
                                                        ],
                                                        size: 280,
                                                        onClick: handleLeaveChat,
                                                        children: "Выйти"
                                                    })
                                                ]
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                        color: theme,
                                        animations: [
                                            'danger'
                                        ],
                                        size: 280,
                                        onClick: handleLeaveChat,
                                        className: external_classnames_default()([
                                            (Chat_module_default()).leaveBtn
                                        ], {
                                            [(Chat_module_default()).leaveBtnOpen]: moreTabOpen && !currentRoom?.isGroup
                                        }),
                                        children: "Выйти"
                                    })
                                ]
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (Chat_module_default()).autoSizerWrapper,
                onWheel: openScrollThumb,
                children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    style: inlineStyles.autoSizerWrapperJunior,
                    children: currentRoom?.messages.length ? /*#__PURE__*/ jsx_runtime_.jsx((external_react_virtualized_auto_sizer_default()), {
                        style: inlineStyles.messagesContainer,
                        children: ({ height , width  })=>/*#__PURE__*/ jsx_runtime_.jsx(external_react_window_.VariableSizeList, {
                                className: external_classnames_default()((Chat_module_default()).messages, {
                                    [(Chat_module_default()).closed]: closed,
                                    [(Chat_module_default()).messages_black_theme]: theme === 'black'
                                }),
                                height: height,
                                itemCount: currentRoom?.messages.length,
                                itemSize: getHeights,
                                width: width,
                                itemKey: itemKey,
                                ref: messagesRef,
                                overscanCount: overscanCount,
                                onScroll: handleScroll,
                                outerRef: outerRef,
                                initialScrollOffset: defaultMessageHeight * overscanCount,
                                onItemsRendered: scrollDown,
                                children: ({ index , style  })=>/*#__PURE__*/ jsx_runtime_.jsx(Message, {
                                        index: index,
                                        style: style,
                                        setHeights: setHeights,
                                        message: currentRoom?.messages[index]
                                    }, currentRoom?.messages[index].timestamp_created)
                            })
                    }) : /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (Chat_module_default()).noMessagesDiv,
                        children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                            className: (Chat_module_default()).noMessagesSpan,
                            children: "Выберите или создайте чат"
                        })
                    })
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: external_classnames_default()((Chat_module_default()).inputBar, {
                    [(Chat_module_default()).open]: currentRoom
                }),
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Chat_module_default()).hiddenInputWrap,
                        onClick: handleAdd,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                className: (Chat_module_default()).hiddenInput,
                                type: "file",
                                ref: addRef,
                                onChange: handleFileAdded
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(add, {
                                className: external_classnames_default()((Chat_module_default()).add, (Chat_module_default()).svg)
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: external_classnames_default()((Chat_module_default()).fileAdded, {
                            [(Chat_module_default()).fileAddedOpen]: addedFileName
                        }),
                        children: addedFileName
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("input", {
                        className: external_classnames_default()((Chat_module_default()).input, {
                            [(Chat_module_default()).inputOpen]: !addedFileName,
                            [(Chat_module_default()).input_black_theme]: theme === 'black'
                        }),
                        placeholder: "Напишите сообщение...",
                        ref: typeInputRef,
                        onKeyDown: handleSend
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(send, {
                        className: external_classnames_default()((Chat_module_default()).send, (Chat_module_default()).svg, {
                            [(Chat_module_default()).sendOpen]: !sendingStartTime
                        }),
                        onClick: handleSend
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(loading, {
                        className: external_classnames_default()((Chat_module_default()).loading, {
                            [(Chat_module_default()).loadingOpen]: sendingStartTime
                        })
                    })
                ]
            })
        ]
    }));
});
Chat.displayName = 'Chat';

;// CONCATENATED MODULE: ./public/icons/search.svg
var search_path, search_path2, search_g;

function search_extends() { search_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return search_extends.apply(this, arguments); }



var SvgSearch = function SvgSearch(props) {
  return /*#__PURE__*/external_react_.createElement("svg", search_extends({
    width: 24,
    height: 24,
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), search_path || (search_path = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M5 11c0-3.309 2.691-6 6-6s6 2.691 6 6-2.691 6-6 6-6-2.691-6-6Zm15.707 8.293-3.395-3.396A7.952 7.952 0 0 0 19 11c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8a7.952 7.952 0 0 0 4.897-1.688l3.396 3.395a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414Z",
    fill: "#231F20"
  })), /*#__PURE__*/external_react_.createElement("mask", {
    id: "search_svg__a",
    style: {
      maskType: "alpha"
    },
    maskUnits: "userSpaceOnUse",
    x: 3,
    y: 3,
    width: 19,
    height: 18
  }, search_path2 || (search_path2 = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M5 11c0-3.309 2.691-6 6-6s6 2.691 6 6-2.691 6-6 6-6-2.691-6-6Zm15.707 8.293-3.395-3.396A7.952 7.952 0 0 0 19 11c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8a7.952 7.952 0 0 0 4.897-1.688l3.396 3.395a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414Z",
    fill: "#fff"
  }))), search_g || (search_g = /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#search_svg__a)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "#707C97",
    d: "M0 0h24v24H0z"
  }))));
};

/* harmony default export */ const search = (SvgSearch);
;// CONCATENATED MODULE: ./public/icons/plus.svg
var plus_path, plus_path2, plus_g;

function plus_extends() { plus_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return plus_extends.apply(this, arguments); }



var SvgPlus = function SvgPlus(props) {
  return /*#__PURE__*/external_react_.createElement("svg", plus_extends({
    width: 24,
    height: 24,
    fill: "#fff",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), plus_path || (plus_path = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M19 11h-6V5a1 1 0 1 0-2 0v6H5a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2Z"
  })), /*#__PURE__*/external_react_.createElement("mask", {
    id: "plus_svg__a",
    style: {
      maskType: "alpha"
    },
    maskUnits: "userSpaceOnUse",
    x: 4,
    y: 4,
    width: 16,
    height: 16
  }, plus_path2 || (plus_path2 = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M19 11h-6V5a1 1 0 1 0-2 0v6H5a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2Z"
  }))), plus_g || (plus_g = /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#plus_svg__a)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    d: "M0 0h24v24H0z"
  }))));
};

/* harmony default export */ const plus = (SvgPlus);
// EXTERNAL MODULE: ./components/ChatActions/ChatActions.module.scss
var ChatActions_module = __webpack_require__(161);
var ChatActions_module_default = /*#__PURE__*/__webpack_require__.n(ChatActions_module);
;// CONCATENATED MODULE: ./components/ChatActions/index.tsx












const ChatActions_ModalWindow = (0,dynamic["default"])(null, {
    loadableGenerated: {
        modules: [
            "..\\components\\ChatActions\\index.tsx -> " + "./../ModalWindow"
        ]
    },
    ssr: false
});
const ChatActions = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const { 0: modalOpen , 1: setModalOpen  } = (0,external_react_.useState)(false);
    const { 0: fileName , 1: setFileName  } = (0,external_react_.useState)('не выбрано');
    const { UserStore , RoomStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const formRef = (0,external_react_.useRef)(null);
    const hiddenInputRef = (0,external_react_.useRef)(null);
    const chatNameRef = (0,external_react_.useRef)(null);
    const { user , checkJWT , UsersFriends , theme , updateUserDataInDB , ObjectOfUsers  } = UserStore;
    const { createRoom  } = RoomStore;
    const { 0: filteredFriends , 1: setFilteredFriends  } = (0,external_react_.useState)(UsersFriends);
    const { 0: buttonWord , 1: setButtonWord  } = (0,external_react_.useState)('Создать диалог');
    const { 0: membersArray , 1: setMembersArray  } = (0,external_react_.useState)([]);
    const handleModalOpen = (event)=>{
        event.preventDefault();
        setModalOpen(modalOpen ? false : true);
    };
    const handleCreate = async (event)=>{
        event.preventDefault();
        if (buttonWord === 'Диалог уже есть') {
            showWarning({
                type: 'danger',
                text: 'Диалог с этим пользователем уже существует',
                icon: 'exclamation'
            });
            return;
        }
        if (!await checkJWT()) {
            showWarning({
                type: 'danger',
                text: globalSettings/* AuthorizationErrorMessage */.dB,
                icon: 'exclamation'
            });
            return;
        }
        const data = {};
        data['users'] = [
            ...membersArray,
            user.id
        ];
        data['messages'] = [];
        data['name'] = null;
        data['photo'] = null;
        data['isGroup'] = data['users'].length > 2 ? true : false;
        const name = (0,helpers/* convertToSpecialSymbols */.T4)(chatNameRef?.current?.value);
        if (data['isGroup']) {
            if (name) {
                if (name.length > 35) {
                    showWarning({
                        type: 'danger',
                        text: 'Название должно содержать не более 35 символов',
                        icon: 'exclamation'
                    });
                    return;
                }
                data['name'] = name;
            } else {
                showWarning({
                    type: 'danger',
                    text: 'Не заполнено поле названия',
                    icon: 'exclamation'
                });
                return;
            }
            const photo = hiddenInputRef?.current?.files[0];
            if (photo) {
                if (!(0,helpers/* fileExtentionCorrect */.X4)('photo', photo?.name)) {
                    showWarning({
                        type: 'danger',
                        text: globalSettings/* IncorrectFileErrorMessage */.T6,
                        icon: 'exclamation'
                    });
                    return;
                }
                data['photo'] = await (0,helpers/* createBase64 */.w0)(photo);
            }
        }
        const response = await createRoom(data);
        if (!response) {
            showWarning({
                type: 'danger',
                text: 'Не удалось создать чат',
                icon: 'exclamation'
            });
            handleModalOpen(event);
            return;
        }
        for(const element in formRef?.current?.elements){
            const elem = formRef?.current?.elements[element];
            if (elem instanceof HTMLInputElement) {
                if (elem.type === 'checkbox') {
                    elem.checked = false;
                }
            }
        }
        showWarning({
            type: 'success',
            text: 'Чат создан',
            icon: 'ok'
        });
        handleModalOpen(event);
        membersArray.forEach(async (memberId)=>{
            const member = ObjectOfUsers[memberId];
            const notifications = JSON.parse(member.notifications);
            notifications.got_new_room = true;
            const updated = await updateUserDataInDB(member.username, {
                notifications: JSON.stringify(notifications)
            });
            if (!updated) {
                showWarning({
                    type: 'danger',
                    text: 'Не удалось создать чат',
                    icon: 'exclamation'
                });
                return;
            }
        });
    };
    const handleCheckboxChange = async ()=>{
        let checkedAmount = 0;
        const newMembersArray = [];
        for(const element in formRef?.current?.elements){
            const elem = formRef?.current?.elements[element];
            if (elem instanceof HTMLInputElement) {
                if (elem.type === 'checkbox' && elem.checked) {
                    checkedAmount++;
                    newMembersArray.push(parseInt(elem.dataset['userid']));
                }
            }
        }
        setMembersArray(newMembersArray);
        if (checkedAmount > 1) {
            setButtonWord('Создать беседу');
            return;
        }
        const existingDialogId = user.rooms?.find((room)=>room?.users.length === 2 && room?.users.includes(user.id) && room?.users.includes(newMembersArray[0])
        )?.id;
        if (existingDialogId) {
            setButtonWord('Диалог уже есть');
            return;
        }
        setButtonWord('Создать диалог');
    };
    const handlePickPhoto = (event)=>{
        event.preventDefault();
        event.stopPropagation();
        hiddenInputRef?.current.click();
    };
    const handlePhotoAdd = ()=>{
        setFileName(hiddenInputRef?.current?.files[0]?.name);
    };
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: external_classnames_default()(className, (ChatActions_module_default()).chatActions, {
                    [(ChatActions_module_default()).chatActionsBlackTheme]: theme === 'black'
                }),
                ...props,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                        className: (ChatActions_module_default()).title,
                        children: "Чаты"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Button, {
                        color: theme,
                        className: (ChatActions_module_default()).button,
                        size: 240,
                        animations: [
                            'base'
                        ],
                        onClick: handleModalOpen,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(plus, {
                                className: (ChatActions_module_default()).plus
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                children: "Создать новый чат"
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(SearchBar, {
                        color: theme,
                        className: (ChatActions_module_default()).searchBar,
                        type: "rooms",
                        children: /*#__PURE__*/ jsx_runtime_.jsx(search, {})
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(ChatActions_ModalWindow, {
                theme: theme,
                className: external_classnames_default()((ChatActions_module_default()).modal, {
                    [(ChatActions_module_default()).modalOpen]: modalOpen,
                    [(ChatActions_module_default()).modalBlackTheme]: theme === 'black'
                }),
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Form, {
                    ref: formRef,
                    className: (ChatActions_module_default()).form,
                    color: theme,
                    children: [
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: (ChatActions_module_default()).chatSettings,
                            children: [
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: (ChatActions_module_default()).hiddenInputWrap,
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                            color: theme,
                                            className: (ChatActions_module_default()).addPhoto,
                                            size: 125,
                                            animations: [
                                                'base'
                                            ],
                                            onClick: handlePickPhoto,
                                            children: "Фото"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                            className: (ChatActions_module_default()).fileName,
                                            children: fileName
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                            type: "file",
                                            className: (ChatActions_module_default()).hiddenInput,
                                            ref: hiddenInputRef,
                                            onChange: handlePhotoAdd
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                                    className: (ChatActions_module_default()).nameInput,
                                    color: theme,
                                    ref: chatNameRef,
                                    type: "text",
                                    placeholder: "Название беседы..."
                                })
                            ]
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                            color: theme,
                            className: (ChatActions_module_default()).friendsSearchInput,
                            type: "text",
                            placeholder: "Поиск друзей...",
                            onChange: (event)=>(0,helpers/* handleUsersSearch */.Fu)(event, (value)=>setFilteredFriends(value)
                                , UsersFriends)
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("div", {
                            className: (ChatActions_module_default()).friendsList,
                            children: filteredFriends[0] && filteredFriends?.map((friend)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: (ChatActions_module_default()).friendChoice,
                                    children: [
                                        friend?.first_name,
                                        " ",
                                        friend?.last_name,
                                        /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                            className: (ChatActions_module_default()).checkbox,
                                            onChange: handleCheckboxChange,
                                            type: "checkbox",
                                            "data-userid": friend?.id
                                        })
                                    ]
                                }, friend.id)
                            )
                        }),
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: (ChatActions_module_default()).btnGroup,
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                    className: (ChatActions_module_default()).btn,
                                    color: theme,
                                    size: 240,
                                    animations: [
                                        'danger'
                                    ],
                                    onClick: handleModalOpen,
                                    children: "Закрыть"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                    className: (ChatActions_module_default()).btn,
                                    color: theme,
                                    size: 240,
                                    animations: [
                                        'success'
                                    ],
                                    onClick: handleCreate,
                                    children: buttonWord
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    }));
});
ChatActions.displayName = 'ChatActions';

// EXTERNAL MODULE: ./components/ChatList/ChatList.module.scss
var ChatList_module = __webpack_require__(9731);
var ChatList_module_default = /*#__PURE__*/__webpack_require__.n(ChatList_module);
;// CONCATENATED MODULE: ./components/ChatList/index.tsx







const ChatList = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const { RoomStore , UserStore  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { theme  } = UserStore;
    const { filteredRoomsArray  } = RoomStore;
    if (!filteredRoomsArray) return(/*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}));
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: external_classnames_default()(className, (ChatList_module_default()).chatList, {
            [(ChatList_module_default()).chatListBlackTheme]: theme == 'black'
        }),
        ...props,
        children: filteredRoomsArray.map((room)=>/*#__PURE__*/ jsx_runtime_.jsx(Room, {
                room: room
            }, room?.id)
        )
    }));
});
ChatList.displayName = 'ChatList';

// EXTERNAL MODULE: ./components/Form/Form.module.scss
var Form_module = __webpack_require__(176);
var Form_module_default = /*#__PURE__*/__webpack_require__.n(Form_module);
;// CONCATENATED MODULE: ./components/Form/index.tsx




const Form = /*#__PURE__*/ (0,external_react_.forwardRef)(({ className , children , color , ...props }, ref)=>{
    return(/*#__PURE__*/ jsx_runtime_.jsx("form", {
        ref: ref,
        className: external_classnames_default()(className, (Form_module_default()).form, {
            [(Form_module_default()).formBlackTheme]: color === 'black'
        }),
        ...props,
        children: children
    }));
});
Form.displayName = 'Form';

// EXTERNAL MODULE: ./components/FormInput/FormInput.module.scss
var FormInput_module = __webpack_require__(3855);
var FormInput_module_default = /*#__PURE__*/__webpack_require__.n(FormInput_module);
;// CONCATENATED MODULE: ./components/FormInput/index.tsx




const FormInput = /*#__PURE__*/ (0,external_react_.forwardRef)(({ className , color , incorrect , ...props }, ref)=>{
    const getInputClassNames = ()=>{
        return external_classnames_default()(className, (FormInput_module_default()).input, {
            [(FormInput_module_default()).inputBlackTheme]: color === 'black',
            [(FormInput_module_default()).incorrect]: incorrect
        });
    };
    return(/*#__PURE__*/ jsx_runtime_.jsx("input", {
        className: getInputClassNames(),
        ...props,
        ref: ref
    }));
});
FormInput.displayName = 'FormInput';

;// CONCATENATED MODULE: ./components/Friends/FriendsSettings.ts
const PaginationNumber = 5;

;// CONCATENATED MODULE: ./public/icons/arrowDown.svg
var arrowDown_path, arrowDown_linearGradient;

function arrowDown_extends() { arrowDown_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return arrowDown_extends.apply(this, arguments); }



var SvgArrowDown = function SvgArrowDown(props) {
  return /*#__PURE__*/external_react_.createElement("svg", arrowDown_extends({
    width: 16,
    height: 16,
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), arrowDown_path || (arrowDown_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "m4 6 4 4 4-4",
    stroke: "url(#arrowDown_svg__a)",
    strokeWidth: 1.5,
    strokeLinecap: "round",
    strokeLinejoin: "round"
  })), arrowDown_linearGradient || (arrowDown_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "arrowDown_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#707C97"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#707C97"
  }))));
};

/* harmony default export */ const arrowDown = (SvgArrowDown);
// EXTERNAL MODULE: ./components/Friends/Friends.module.scss
var Friends_module = __webpack_require__(4099);
var Friends_module_default = /*#__PURE__*/__webpack_require__.n(Friends_module);
;// CONCATENATED MODULE: ./components/Friends/index.tsx









const Friends = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const { 0: filterChoice , 1: setFilterChoice  } = (0,external_react_.useState)('поиск');
    const { 0: choicesListOpen , 1: setChoicesListOpen  } = (0,external_react_.useState)(false);
    const { 0: startInterval , 1: setStartInterval  } = (0,external_react_.useState)(0);
    const { UserStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const searchBarRef = (0,external_react_.useRef)(null);
    const { user , getAllUsers , users , UsersFriends , UsersFriendRequests , UsersDesiredFriends , UsersBlockedUsers , filteredUsers , filterUsersArray , theme  } = UserStore;
    (0,external_react_.useEffect)(()=>{
        (async ()=>{
            const gotUsers = await getAllUsers();
            if (!gotUsers) {
                showWarning({
                    type: 'danger',
                    text: 'Не удалось загрузить пользователей',
                    icon: 'exclamation'
                });
                return(/*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}));
            }
        })();
    }, []);
    if (!user?.friends) {
        return(/*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}));
    }
    const toggleChoicesListOpen = (event)=>{
        event.preventDefault();
        setChoicesListOpen(choicesListOpen ? false : true);
    };
    const handleSetFilterChoice = (event)=>{
        const div = event.target;
        setFilterChoice(div.dataset.filter_choice);
        filterUsersArray({
            filter_word: searchBarRef?.current?.value,
            array: getSearchArray(div.dataset.filter_choice)
        });
    };
    const getSearchArray = (filter_choice)=>{
        switch(filter_choice){
            case 'друзья':
                {
                    return UsersFriends;
                }
            case 'заявки в друзья':
                {
                    return UsersFriendRequests;
                }
            case 'отправленные заявки':
                {
                    return UsersDesiredFriends;
                }
            case 'заблокированные':
                {
                    return UsersBlockedUsers;
                }
            case 'поиск':
                {
                    return users;
                }
        }
    };
    const getUserType = ()=>{
        switch(filterChoice){
            case 'друзья':
                {
                    return 'friend';
                }
            case 'заявки в друзья':
                {
                    return 'friend_request';
                }
            case 'отправленные заявки':
                {
                    return 'desired_friend';
                }
            case 'заблокированные':
                {
                    return 'blocked_user';
                }
            case 'поиск':
                {
                    return 'searched_user';
                }
        }
    };
    const getPagintaionArray = ()=>{
        const array = [
            0
        ];
        for(let page = 1; page < Math.ceil((filteredUsers.length - 1) / PaginationNumber); page++){
            array.push(page);
        }
        return array;
    };
    const handleChangePage = (event)=>{
        const div = event.target;
        setStartInterval(parseInt(div.dataset.page));
    };
    const getFilteredUsersList = ()=>{
        return filteredUsers.filter((filtered)=>filtered.id != user.id
        ).slice(startInterval * PaginationNumber, startInterval * PaginationNumber + PaginationNumber);
    };
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (Friends_module_default()).friends, {
            [(Friends_module_default()).friendsBlackTheme]: theme === 'black'
        }),
        ...props,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Friends_module_default()).actions,
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Friends_module_default()).filter,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(arrowDown, {
                                className: external_classnames_default()((Friends_module_default()).arrow, {
                                    [(Friends_module_default()).arrowIconOpen]: choicesListOpen
                                }),
                                onClick: toggleChoicesListOpen
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                                className: (Friends_module_default()).filterChoice,
                                onClick: toggleChoicesListOpen,
                                children: filterChoice
                            }),
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: external_classnames_default()((Friends_module_default()).choicesList, {
                                    [(Friends_module_default()).choicesListOpen]: choicesListOpen
                                }),
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                        className: external_classnames_default()((Friends_module_default()).choice, {
                                            [(Friends_module_default()).chosen]: filterChoice === 'поиск'
                                        }),
                                        "data-filter_choice": 'поиск',
                                        onClick: handleSetFilterChoice,
                                        children: "глобальный поиск"
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                        className: external_classnames_default()((Friends_module_default()).choice, {
                                            [(Friends_module_default()).chosen]: filterChoice === 'друзья'
                                        }),
                                        "data-filter_choice": 'друзья',
                                        onClick: handleSetFilterChoice,
                                        children: "друзья"
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                        className: external_classnames_default()((Friends_module_default()).choice, {
                                            [(Friends_module_default()).chosen]: filterChoice === 'заявки в друзья'
                                        }),
                                        "data-filter_choice": 'заявки в друзья',
                                        onClick: handleSetFilterChoice,
                                        children: "заявки в друзья"
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                        className: external_classnames_default()((Friends_module_default()).choice, {
                                            [(Friends_module_default()).chosen]: filterChoice === 'отправленные заявки'
                                        }),
                                        "data-filter_choice": 'отправленные заявки',
                                        onClick: handleSetFilterChoice,
                                        children: "отправленные заявки"
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                                        className: external_classnames_default()((Friends_module_default()).choice, {
                                            [(Friends_module_default()).chosen]: filterChoice === 'заблокированные'
                                        }),
                                        "data-filter_choice": 'заблокированные',
                                        onClick: handleSetFilterChoice,
                                        children: "заблокированные"
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(SearchBar, {
                        color: theme,
                        className: (Friends_module_default()).searchBar,
                        type: "users",
                        array: getSearchArray(filterChoice),
                        ref: searchBarRef
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (Friends_module_default()).usersList,
                children: getFilteredUsersList()?.map((filteredUser)=>filteredUser.id != user.id && /*#__PURE__*/ jsx_runtime_.jsx(UserCard, {
                        color: theme,
                        filterChoice: filterChoice,
                        anotherUser: filteredUser,
                        user_type: getUserType(),
                        className: (Friends_module_default()).userCard
                    }, filteredUser.username)
                )
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Friends_module_default()).paginationBar,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        "data-page": startInterval - 1,
                        onClick: handleChangePage,
                        className: external_classnames_default()((Friends_module_default()).leftEnd, (Friends_module_default()).page, {
                            [(Friends_module_default()).leftEndOpen]: startInterval > 0
                        }),
                        children: "пред"
                    }),
                    getPagintaionArray().map((page)=>/*#__PURE__*/ jsx_runtime_.jsx("div", {
                            "data-page": page,
                            onClick: handleChangePage,
                            className: external_classnames_default()((Friends_module_default()).page, {
                                [(Friends_module_default()).pageOpen]: Math.abs(page - startInterval) < 2,
                                [(Friends_module_default()).pageSelected]: startInterval === page
                            }),
                            children: page + 1
                        }, page)
                    ),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        "data-page": startInterval + 1,
                        onClick: handleChangePage,
                        className: external_classnames_default()((Friends_module_default()).rightEnd, (Friends_module_default()).page, {
                            [(Friends_module_default()).rightEndOpen]: startInterval < Math.ceil(filteredUsers.length / PaginationNumber) - 1
                        }),
                        children: "след"
                    })
                ]
            })
        ]
    }));
});
Friends.displayName = 'Friends';

// EXTERNAL MODULE: ./components/Loading/Loading.module.scss
var Loading_module = __webpack_require__(7032);
var Loading_module_default = /*#__PURE__*/__webpack_require__.n(Loading_module);
;// CONCATENATED MODULE: ./components/Loading/index.tsx




const Loading = ({ className , ...props })=>{
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: external_classnames_default()(className, (Loading_module_default()).wrapper),
        ...props,
        children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
            className: (Loading_module_default()).loading,
            children: /*#__PURE__*/ jsx_runtime_.jsx("span", {
                className: (Loading_module_default()).span,
                children: /*#__PURE__*/ jsx_runtime_.jsx(loading, {})
            })
        })
    }));
};
Loading.displayName = 'Loading';

// EXTERNAL MODULE: external "next/router"
var router_ = __webpack_require__(1853);
// EXTERNAL MODULE: ./components/Login/Login.module.scss
var Login_module = __webpack_require__(1699);
var Login_module_default = /*#__PURE__*/__webpack_require__.n(Login_module);
;// CONCATENATED MODULE: ./components/Login/index.tsx








const Login = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const router = (0,router_.useRouter)();
    const formRef = (0,external_react_.useRef)(null);
    const { UserStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { login , user  } = UserStore;
    (0,external_react_.useEffect)(()=>{
        formRef?.current.elements.username.focus();
    }, []);
    const handleLogin = async (event)=>{
        event.preventDefault();
        const username = formRef?.current?.elements?.username?.value;
        const password = formRef?.current?.elements?.password?.value;
        if (!username || !password) {
            showWarning({
                type: 'danger',
                text: 'Заполните все поля',
                icon: 'exclamation'
            });
            return;
        }
        const loggedIn = await login({
            username: username,
            password: password
        }).then((result)=>result
        );
        if (loggedIn) {
            router.push('/');
        } else {
            showWarning({
                type: 'danger',
                text: 'Пароль или логин не подходит',
                icon: 'exclamation'
            });
        }
    };
    const handleNext = (event)=>{
        if (event.key === 'Enter') {
            event.preventDefault();
            formRef?.current.elements.password.focus();
        }
    };
    if (user) {
        router.push('/');
    }
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: external_classnames_default()(className, (Login_module_default()).wrapper),
        ...props,
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Form, {
            ref: formRef,
            className: (Login_module_default()).form,
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                    children: "Вход"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                    name: "username",
                    type: "text",
                    placeholder: "Логин",
                    autoComplete: "on",
                    onKeyDown: handleNext
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                    name: "password",
                    type: "password",
                    placeholder: "Пароль",
                    autoComplete: "on"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                    onClick: handleLogin,
                    className: (Login_module_default()).button,
                    size: 280,
                    animations: [
                        'base'
                    ],
                    children: "Войти"
                })
            ]
        })
    }));
});
Login.displayName = 'Login';

// EXTERNAL MODULE: ./components/Message/Message.module.scss
var Message_module = __webpack_require__(4002);
var Message_module_default = /*#__PURE__*/__webpack_require__.n(Message_module);
;// CONCATENATED MODULE: ./components/Message/index.tsx









const Message = /*#__PURE__*/ (0,external_react_.memo)(({ message , className , index , style , setHeights , ...props })=>{
    const messageRef = (0,external_react_.useRef)(null);
    const { UserStore  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { user , theme , ObjectOfUsers  } = UserStore;
    const inlineStyles = {
        message: {
            ...style,
            top: `${parseFloat(style.top) + 15}px`,
            paddingBottom: '15px'
        }
    };
    const getMessageClassNames = ()=>{
        return external_classnames_default()(className, (Message_module_default()).message, {
            [(Message_module_default()).messageBlackTheme]: theme === 'black',
            [(Message_module_default()).myMessage]: message.author === user.id,
            [(Message_module_default()).myMessageBlackTheme]: message.author === user.id && theme === 'black',
            [(Message_module_default()).notMyMessage]: message.author != user.id,
            [(Message_module_default()).notMyMessageBlackTheme]: message.author != user.id && theme === 'black'
        });
    };
    (0,external_react_.useEffect)(()=>{
        if (!messageRef?.current) return;
        setHeights(index, messageRef.current.clientHeight);
    }, [
        messageRef
    ]);
    if (message.text) {
        return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: getMessageClassNames(),
            ...props,
            ref: messageRef,
            style: inlineStyles.message,
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (Message_module_default()).avatar,
                    children: /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                        object: ObjectOfUsers[message.author],
                        cover: true,
                        size: 36,
                        edgeType: "circle"
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: external_classnames_default()((Message_module_default()).content, (Message_module_default()).text),
                    children: (0,helpers/* convertFromSpecialSymbols */.uf)(message.text)
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (Message_module_default()).timeCreated,
                    children: (0,helpers/* getTimeCreated */.go)(message)
                })
            ]
        }));
    }
    if (message.photo) {
        return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: getMessageClassNames(),
            ...props,
            ref: messageRef,
            style: inlineStyles.message,
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (Message_module_default()).avatar,
                    children: /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                        object: ObjectOfUsers[message.author],
                        cover: true,
                        size: 36,
                        edgeType: "circle"
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: external_classnames_default()((Message_module_default()).content, (Message_module_default()).photo),
                    children: /*#__PURE__*/ jsx_runtime_.jsx("img", {
                        src: message.photo,
                        height: "500",
                        width: "300",
                        alt: ''
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (Message_module_default()).timeCreated,
                    children: (0,helpers/* getTimeCreated */.go)(message)
                })
            ]
        }));
    }
    if (message.video) {
        return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: getMessageClassNames(),
            ...props,
            ref: messageRef,
            style: inlineStyles.message,
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (Message_module_default()).avatar,
                    children: /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                        object: ObjectOfUsers[message.author],
                        cover: true,
                        size: 36,
                        edgeType: "circle"
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: external_classnames_default()((Message_module_default()).content, (Message_module_default()).video),
                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("video", {
                        controls: true,
                        src: message.video,
                        height: 300,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("source", {
                                src: message.video,
                                type: "video/mp4"
                            }),
                            "Ваш браузер не поддерживает html 5 видео"
                        ]
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (Message_module_default()).timeCreated,
                    children: (0,helpers/* getTimeCreated */.go)(message)
                })
            ]
        }));
    }
    return(/*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}));
}, external_react_window_.areEqual);
Message.displayName = 'Message';

// EXTERNAL MODULE: ./components/Messanger/index.tsx
var Messanger = __webpack_require__(959);
// EXTERNAL MODULE: ./components/ModalWindow/ModalWindow.module.scss
var ModalWindow_module = __webpack_require__(7550);
var ModalWindow_module_default = /*#__PURE__*/__webpack_require__.n(ModalWindow_module);
;// CONCATENATED MODULE: ./components/ModalWindow/index.tsx



const ModalWindow_ModalWindow = ({ className , children , theme , ...props })=>{
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (ModalWindow_module_default()).wrapper),
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: external_classnames_default()((ModalWindow_module_default()).modal, {
                    [(ModalWindow_module_default()).modal_black_theme]: theme === 'black'
                }),
                ...props,
                children: children
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: external_classnames_default()(className, (ModalWindow_module_default()).shadow)
            })
        ]
    }));
};
ModalWindow_ModalWindow.displayName = 'ModalWindow';

;// CONCATENATED MODULE: ./public/icons/friend_request.svg
var friend_request_path;

function friend_request_extends() { friend_request_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return friend_request_extends.apply(this, arguments); }



var SvgFriendRequest = function SvgFriendRequest(props) {
  return /*#__PURE__*/external_react_.createElement("svg", friend_request_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30
  }, props), friend_request_path || (friend_request_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M23 11h-2V9a1 1 0 0 0-2 0v2h-2a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2ZM9 12a6 6 0 1 0-6-6 6.006 6.006 0 0 0 6 6ZM9 2a4 4 0 1 1-4 4 4 4 0 0 1 4-4ZM9 14a9.01 9.01 0 0 0-9 9 1 1 0 0 0 2 0 7 7 0 0 1 14 0 1 1 0 0 0 2 0 9.01 9.01 0 0 0-9-9Z"
  })));
};

/* harmony default export */ const friend_request = (SvgFriendRequest);
;// CONCATENATED MODULE: ./public/icons/friend_acception.svg
var friend_acception_circle, friend_acception_path, friend_acception_path2;

function friend_acception_extends() { friend_acception_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return friend_acception_extends.apply(this, arguments); }



var SvgFriendAcception = function SvgFriendAcception(props) {
  return /*#__PURE__*/external_react_.createElement("svg", friend_acception_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30
  }, props), friend_acception_circle || (friend_acception_circle = /*#__PURE__*/external_react_.createElement("circle", {
    r: 12,
    cx: 12,
    cy: 12,
    fill: "gray"
  })), friend_acception_path || (friend_acception_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M12 0a12 12 0 1 0 12 12A12.013 12.013 0 0 0 12 0Zm0 22a10 10 0 1 1 10-10 10.011 10.011 0 0 1-10 10Z"
  })), friend_acception_path2 || (friend_acception_path2 = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    d: "M12 16a2.993 2.993 0 0 1-1.987-.752 22.053 22.053 0 0 1-.84-.777L6.3 11.647a1 1 0 0 1 1.4-1.426l2.88 2.829c.188.187.468.441.759.7a1 1 0 0 0 1.323 0c.29-.258.57-.512.752-.693l2.886-2.836a1 1 0 1 1 1.4 1.426l-2.879 2.829c-.2.2-.507.48-.833.769A2.99 2.99 0 0 1 12 16Z"
  })));
};

/* harmony default export */ const friend_acception = (SvgFriendAcception);
// EXTERNAL MODULE: ./components/Notification/Notification.module.scss
var Notification_module = __webpack_require__(8625);
var Notification_module_default = /*#__PURE__*/__webpack_require__.n(Notification_module);
;// CONCATENATED MODULE: ./components/Notification/index.tsx








const Notification = (0,external_mobx_react_lite_.observer)(({ className , user_id , type , color , ...props })=>{
    const { UserStore  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { ObjectOfUsers  } = UserStore;
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: external_classnames_default()(className, (Notification_module_default()).notification, {
            [(Notification_module_default()).notificationBlackTheme]: color === 'black'
        }),
        ...props,
        children: type === 'friend_request' ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(friend_request, {
                    className: (Notification_module_default()).svg
                }),
                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("h1", {
                    className: (Notification_module_default()).text,
                    children: [
                        ObjectOfUsers[user_id]?.first_name,
                        " ",
                        ObjectOfUsers[user_id]?.last_name,
                        " - хочет добавить вас в друзья"
                    ]
                })
            ]
        }) : type === 'friend_acception' ? /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(friend_acception, {
                    className: (Notification_module_default()).svgFriendAcception
                }),
                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("h1", {
                    className: (Notification_module_default()).text,
                    children: [
                        ObjectOfUsers[user_id]?.first_name,
                        " ",
                        ObjectOfUsers[user_id]?.last_name,
                        " - заявка в друзья принята"
                    ]
                })
            ]
        }) : /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {})
    }));
});
Notification.displayName = 'Notification';

// EXTERNAL MODULE: ./components/NotificationList/NotificationList.module.scss
var NotificationList_module = __webpack_require__(641);
var NotificationList_module_default = /*#__PURE__*/__webpack_require__.n(NotificationList_module);
;// CONCATENATED MODULE: ./components/NotificationList/index.tsx









const NotificationList = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const router = (0,router_.useRouter)();
    const { UserStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { theme , notifications , updateUserDataInDB , updateNotifications , user , checkJWT  } = UserStore;
    (0,external_react_.useEffect)(()=>{
        const username = user?.username;
        const clearNotifications = async ()=>{
            if (!notifications) return;
            if (!await checkJWT()) {
                showWarning({
                    type: 'danger',
                    text: globalSettings/* AuthorizationErrorMessage */.dB,
                    icon: 'exclamation'
                });
                return;
            }
            updateNotifications({
                ...notifications,
                friend_acceptions: [],
                friend_requests: []
            });
            const updated = await updateUserDataInDB(username, {
                notifications: JSON.stringify({
                    ...notifications,
                    friend_requests: [],
                    friend_acceptions: []
                })
            });
            if (!updated) {
                showWarning({
                    type: 'danger',
                    text: 'Не удалось обновить уведомления',
                    icon: 'exclamation'
                });
            }
        };
        router.events.on('routeChangeStart', clearNotifications);
        return ()=>{
            router.events.off('routeChangeStart', clearNotifications);
        };
    }, []);
    if (!notifications) return(/*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}));
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (NotificationList_module_default()).notificationList, {
            [(NotificationList_module_default()).notificationList_black_theme]: theme === 'black'
        }),
        ...props,
        children: [
            notifications?.friend_requests.map((user_id)=>/*#__PURE__*/ jsx_runtime_.jsx(Notification, {
                    type: "friend_request",
                    color: theme,
                    user_id: user_id
                }, user_id)
            ),
            notifications?.friend_acceptions.map((user_id)=>/*#__PURE__*/ jsx_runtime_.jsx(Notification, {
                    type: "friend_acception",
                    color: theme,
                    user_id: user_id
                }, user_id)
            )
        ]
    }));
});
NotificationList.displayName = 'NotificationList';

// EXTERNAL MODULE: ./components/NotificationUnread/NotificationUnread.module.scss
var NotificationUnread_module = __webpack_require__(1784);
var NotificationUnread_module_default = /*#__PURE__*/__webpack_require__.n(NotificationUnread_module);
;// CONCATENATED MODULE: ./components/NotificationUnread/index.tsx



const NotificationUnread = ({ className , number , color , ...props })=>{
    const getClassNames = ()=>{
        return external_classnames_default()(className, (NotificationUnread_module_default()).unread, {
            [(NotificationUnread_module_default()).unreadOpen]: number > 0,
            [(NotificationUnread_module_default()).unreadBlackTheme]: color === 'black'
        });
    };
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: getClassNames(),
        ...props,
        children: number || 0
    }));
};
NotificationUnread.displayName = 'NotificationUnread';

// EXTERNAL MODULE: ./components/Profile/Profile.module.scss
var Profile_module = __webpack_require__(2747);
var Profile_module_default = /*#__PURE__*/__webpack_require__.n(Profile_module);
;// CONCATENATED MODULE: ./components/Profile/index.tsx








const Profile = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const descriptionRef = (0,external_react_.useRef)(null);
    const nameInputRef = (0,external_react_.useRef)(null);
    const hiddenInputRef = (0,external_react_.useRef)(null);
    const birthdayInputRef = (0,external_react_.useRef)(null);
    const { UserStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { user , updateUserDataInDB , theme , fullName  } = UserStore;
    (0,external_react_.useEffect)(()=>{
        if (!descriptionRef.current) return;
        descriptionRef.current.style.height = descriptionRef.current.scrollHeight + 'px';
    }, []);
    const handleAddPhoto = (event)=>{
        event.preventDefault();
        hiddenInputRef?.current.click();
    };
    const getNameParts = (name)=>{
        const groups = name.match(/^(?<name>\p{L}+)\s(?<surname>\p{L}+)/u)?.groups;
        return [
            groups?.name,
            groups?.surname
        ];
    };
    const handleSubmit = async ()=>{
        const updatedData = {};
        if ((0,helpers/* nameChanged */.Zu)(user.first_name + ' ' + user.last_name, nameInputRef?.current?.value)) {
            const [name, surname] = getNameParts(nameInputRef?.current?.value);
            if (name && surname) {
                const [, message] = (0,helpers/* validateNameSurname */.nM)(name, surname);
                if (message != 'valid') {
                    showWarning({
                        type: 'danger',
                        text: message
                    });
                    return;
                }
                updatedData['first_name'] = name;
                updatedData['last_name'] = surname;
            } else {
                showWarning({
                    type: 'danger',
                    text: 'Поле имени и фамилии заполнено неверно',
                    icon: 'exclamation'
                });
                return;
            }
        }
        if (descriptionRef?.current.value != user.description) {
            updatedData['description'] = descriptionRef?.current.value;
        }
        const birthday = birthdayInputRef?.current.value;
        if (birthday && birthday != user.birthday) {
            if (!(0,helpers/* isBirthdayCorrect */.iA)(birthday)) {
                showWarning({
                    type: 'danger',
                    text: 'Поле дня рождения заполнено неверно',
                    icon: 'exclamation'
                });
                return;
            }
            updatedData['birthday'] = birthday;
        }
        if (hiddenInputRef?.current?.files.length > 0) {
            if (hiddenInputRef?.current.files.length > 1) {
                showWarning({
                    type: 'danger',
                    text: 'Нельзя выбрать больше одной фотографии',
                    icon: 'exclamation'
                });
                hiddenInputRef.current.value = '';
                return;
            }
            const photo = hiddenInputRef?.current?.files[0];
            if (!(0,helpers/* fileExtentionCorrect */.X4)('photo', photo?.name)) {
                showWarning({
                    type: 'danger',
                    text: 'Не подходящий тип файла',
                    icon: 'exclamation'
                });
                return;
            }
            const reader = new FileReader();
            reader.readAsDataURL(photo);
            reader.onload = async ()=>{
                updatedData['photo'] = reader.result;
                const updated = await updateUserDataInDB(user.username, updatedData);
                if (!updated) {
                    showWarning({
                        type: 'danger',
                        text: 'Что-то пошло не так',
                        icon: 'exclamation'
                    });
                } else {
                    showWarning({
                        type: 'success',
                        text: 'Данные обновлены',
                        icon: 'ok'
                    });
                }
                return;
            };
        } else {
            if (!Object.keys(updatedData).length) return;
            const updated = await updateUserDataInDB(user.username, updatedData);
            if (!updated) {
                showWarning({
                    type: 'danger',
                    text: 'Что-то пошло не так',
                    icon: 'exclamation'
                });
            } else {
                showWarning({
                    type: 'success',
                    text: 'Данные обновлены',
                    icon: 'ok'
                });
            }
            return;
        }
    };
    if (!user) return(/*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}));
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (Profile_module_default()).profile, {
            [(Profile_module_default()).profileBlackTheme]: theme === 'black'
        }),
        ...props,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                title: fullName,
                object: user,
                size: 300,
                cover: true,
                edgeType: "round_6",
                className: (Profile_module_default()).photo
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Profile_module_default()).mainInfo,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (Profile_module_default()).name,
                        children: /*#__PURE__*/ jsx_runtime_.jsx("input", {
                            ref: nameInputRef,
                            type: "text",
                            className: (Profile_module_default()).input,
                            defaultValue: fullName
                        })
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Profile_module_default()).statistics,
                        children: [
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: (Profile_module_default()).stat,
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        children: user.friends.length
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        children: (0,helpers/* declOfNum */.Ak)(user.friends.length, [
                                            'ДРУГ',
                                            'ДРУГА',
                                            'ДРУЗЕЙ'
                                        ])
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: (Profile_module_default()).stat,
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                        children: user.friend_requests.length
                                    }),
                                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                        children: [
                                            (0,helpers/* declOfNum */.Ak)(user.friend_requests.length, [
                                                'ЗАЯВКА',
                                                'ЗАЯВКИ',
                                                'ЗАЯВОК'
                                            ]),
                                            " В ДРУЗЬЯ"
                                        ]
                                    })
                                ]
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Profile_module_default()).description,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                        className: (Profile_module_default()).h1,
                        children: "О себе"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("textarea", {
                        ref: descriptionRef,
                        className: (Profile_module_default()).descriptionInput,
                        defaultValue: user.description
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Profile_module_default()).additionalInfo,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                        className: (Profile_module_default()).h1,
                        children: "Дополнительная информация"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Profile_module_default()).birthdayInput,
                        children: [
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("span", {
                                children: [
                                    "Дата рождения: ",
                                    user.birthday
                                ]
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                className: (Profile_module_default()).birthdayInput,
                                type: "date",
                                ref: birthdayInputRef
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        children: [
                            "Дата регистрации: ",
                            (0,helpers/* getDateRegistered */.kS)(user)
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Profile_module_default()).actions,
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Profile_module_default()).hiddenInputWrap,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                color: theme,
                                className: external_classnames_default()((Profile_module_default()).btn, (Profile_module_default()).addPhoto),
                                animations: [
                                    'base'
                                ],
                                size: 240,
                                onClick: handleAddPhoto,
                                children: "Фото"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                                type: "file",
                                className: (Profile_module_default()).hiddenInput,
                                ref: hiddenInputRef
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                        className: (Profile_module_default()).btn,
                        color: theme,
                        animations: [
                            'success'
                        ],
                        size: 240,
                        onClick: handleSubmit,
                        children: "Применить"
                    })
                ]
            })
        ]
    }));
});
Profile.displayName = 'Profile';

;// CONCATENATED MODULE: ./components/Register/RegisterSettings.ts
const amountOfPages = 2;
const numberOfStartPage = 1;
const emailRegex = /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i;

// EXTERNAL MODULE: ./components/Register/Register.module.scss
var Register_module = __webpack_require__(3460);
var Register_module_default = /*#__PURE__*/__webpack_require__.n(Register_module);
;// CONCATENATED MODULE: ./components/Register/index.tsx










const Register = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const router = (0,router_.useRouter)();
    const { 0: incorrectFields , 1: setIncorrectFields  } = (0,external_react_.useState)([]);
    const formRef = (0,external_react_.useRef)(null);
    const privateFormRef = (0,external_react_.useRef)(null);
    const { 0: page , 1: setPage  } = (0,external_react_.useState)(numberOfStartPage);
    const { UserStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { register , AllUsersSet , getAllUsers , user  } = UserStore;
    (0,external_react_.useEffect)(()=>{
        page === 1 ? formRef?.current.elements.username.focus() : privateFormRef?.current.elements.first_name.focus();
    }, [
        page
    ]);
    const handleRegister = async (event)=>{
        event.preventDefault();
        const username = formRef?.current?.elements?.username.value;
        const password = formRef?.current?.elements?.password.value;
        const repeat_password = formRef?.current?.elements?.repeat_password.value;
        const last_name = privateFormRef?.current?.elements?.last_name?.value;
        const first_name = privateFormRef?.current?.elements?.first_name?.value;
        const email = formRef?.current?.elements?.email.value;
        const birthday = privateFormRef?.current?.elements?.birthday?.value;
        if ([
            username,
            password,
            repeat_password,
            last_name,
            first_name,
            email,
            birthday
        ].filter((field)=>field === ''
        ).length) {
            showWarning({
                type: 'danger',
                text: 'Заполните все поля',
                icon: 'exclamation'
            });
            return;
        }
        if (!(isPasswordValid(password) && doPasswordsMatch(password, repeat_password))) return;
        if (!areNamesValid(first_name, last_name)) return;
        if (!isEmailValid(email)) return;
        if (!isBirthdayValid(birthday)) return;
        if (!isLoginValid(username)) return;
        const registered = await register({
            username: username,
            password: formRef?.current?.elements?.password.value,
            last_name: privateFormRef?.current?.elements?.last_name?.value,
            first_name: privateFormRef?.current?.elements?.first_name?.value,
            email: formRef?.current?.elements?.email.value,
            birthday: privateFormRef?.current?.elements?.birthday?.value
        });
        if (!registered) {
            showWarning({
                type: 'danger',
                'text': 'Что-то пошло не так',
                icon: 'exclamation'
            });
            return;
        }
        showWarning({
            type: 'success',
            'text': 'Письмо с подтверждением было отправлено на вашу почту',
            icon: 'mail'
        });
        router.push('/');
    };
    const handleNextPage = (event)=>{
        event.preventDefault();
        setPage(page === amountOfPages ? 1 : page + 1);
    };
    const isBirthdayValid = (birthday)=>{
        if (!(0,helpers/* isBirthdayCorrect */.iA)(birthday)) {
            showWarning({
                type: 'danger',
                'text': 'Некорректная дата рождения',
                icon: 'exclamation'
            });
            setIncorrectFields((prev)=>[
                    ...prev,
                    'birthday'
                ]
            );
            return false;
        }
        return true;
    };
    const isPasswordValid = (password)=>{
        if (password.length < 8) {
            showWarning({
                type: 'danger',
                'text': 'Пароль должен содержать не менее 8 символов',
                icon: 'exclamation'
            });
            setIncorrectFields((prev)=>[
                    ...prev,
                    'password'
                ]
            );
            return false;
        }
        return true;
    };
    const doPasswordsMatch = (password, repeat_password)=>{
        if (password != repeat_password) {
            showWarning({
                type: 'danger',
                'text': 'Пароли не совпадают',
                icon: 'exclamation'
            });
            setIncorrectFields((prev)=>[
                    ...prev,
                    'repeat_password'
                ]
            );
            return false;
        }
        return true;
    };
    const isEmailValid = (email)=>{
        if (!emailRegex.test(email)) {
            showWarning({
                type: 'danger',
                'text': 'Некорректный адрес электронной почты',
                icon: 'exclamation'
            });
            setIncorrectFields((prev)=>[
                    ...prev,
                    'email'
                ]
            );
            return false;
        }
        return true;
    };
    const isLoginValid = async (login)=>{
        if (login.length < 4) {
            showWarning({
                type: 'danger',
                'text': 'Логин должен содержать не менее 4 символов',
                icon: 'exclamation'
            });
            setIncorrectFields((prev)=>[
                    ...prev,
                    'login'
                ]
            );
            return false;
        }
        const gotUsers = await getAllUsers();
        if (!gotUsers) {
            showWarning({
                type: 'danger',
                'text': 'Что-то пошло не так',
                icon: 'exclamation'
            });
            return false;
        }
        if (AllUsersSet.has(login)) {
            showWarning({
                type: 'danger',
                'text': 'Этот логин занят',
                icon: 'exclamation'
            });
            return false;
        }
        return true;
    };
    const areNamesValid = (first_name, last_name)=>{
        const [field, message] = (0,helpers/* validateNameSurname */.nM)(first_name, last_name);
        if (message === 'valid') return true;
        if (field === 'first_name') {
            showWarning({
                type: 'danger',
                'text': message,
                icon: 'exclamation'
            });
            setIncorrectFields((prev)=>[
                    ...prev,
                    'first_name'
                ]
            );
            return false;
        }
        if (field === 'last_name') {
            showWarning({
                type: 'danger',
                'text': message,
                icon: 'exclamation'
            });
            setIncorrectFields((prev)=>[
                    ...prev,
                    'last_name'
                ]
            );
            return false;
        }
        return false;
    };
    const removeFromIncorrect = (event)=>{
        event.preventDefault();
        const input = event.target;
        const inputIndex = incorrectFields.findIndex((input_name)=>input_name === input.name
        );
        setIncorrectFields((prev)=>{
            const mas = prev.slice(0);
            mas.splice(inputIndex, 1);
            return mas;
        });
    };
    const findNextField = (elements, number)=>{
        for(const element in elements){
            const elem = elements[element];
            if (elem instanceof HTMLInputElement) {
                if (parseInt(elem.dataset['fieldnumber']) === number + 1) {
                    elem.focus();
                    return true;
                }
            }
        }
        return false;
    };
    const handleNext = async (event)=>{
        if (event.key != 'Enter') return;
        event.preventDefault();
        const input = event.target;
        const fieldNumber = parseInt(input.dataset['fieldnumber']);
        switch(fieldNumber){
            case 4:
                {
                    setPage(2);
                    break;
                }
            case 7:
                {
                    await handleRegister(event);
                    break;
                }
            default:
                {
                    if (findNextField(privateFormRef?.current.elements, fieldNumber)) break;
                    findNextField(formRef?.current.elements, fieldNumber);
                }
        }
    };
    if (user) {
        router.push('/');
    }
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (Register_module_default()).wrapper),
        ...props,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Form, {
                className: external_classnames_default()((Register_module_default()).form, {
                    [(Register_module_default()).closed]: page != 1
                }),
                ref: formRef,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                        children: "Регистрация"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                        "data-fieldnumber": 1,
                        onKeyDown: handleNext,
                        className: (Register_module_default()).firstIinput,
                        onClick: removeFromIncorrect,
                        incorrect: incorrectFields.includes('username'),
                        name: "username",
                        type: "text",
                        placeholder: "Логин",
                        autoComplete: "username"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                        "data-fieldnumber": 2,
                        onKeyDown: handleNext,
                        onClick: removeFromIncorrect,
                        incorrect: incorrectFields.includes('email'),
                        name: "email",
                        type: "email",
                        placeholder: "Электронная почта",
                        autoComplete: "email"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                        "data-fieldnumber": 3,
                        onKeyDown: handleNext,
                        onClick: removeFromIncorrect,
                        incorrect: incorrectFields.includes('password'),
                        name: "password",
                        type: "password",
                        placeholder: "Пароль",
                        autoComplete: "new-password"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                        "data-fieldnumber": 4,
                        onKeyDown: handleNext,
                        onClick: removeFromIncorrect,
                        incorrect: incorrectFields.includes('repeat_password'),
                        name: "repeat_password",
                        type: "password",
                        placeholder: "Повторите пароль",
                        autoComplete: "new-password"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                        onClick: handleNextPage,
                        className: (Register_module_default()).button,
                        size: 280,
                        animations: [
                            'base'
                        ],
                        children: "Дальше"
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(Form, {
                ref: privateFormRef,
                className: external_classnames_default()((Register_module_default()).form, {
                    [(Register_module_default()).closed]: page != 2
                }),
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                        children: "Личная информация"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                        "data-fieldnumber": 5,
                        onKeyDown: handleNext,
                        className: (Register_module_default()).firstIinput,
                        onClick: removeFromIncorrect,
                        incorrect: incorrectFields.includes('first_name'),
                        name: "first_name",
                        type: "text",
                        placeholder: "Имя"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                        "data-fieldnumber": 6,
                        onKeyDown: handleNext,
                        onClick: removeFromIncorrect,
                        incorrect: incorrectFields.includes('last_name'),
                        name: "last_name",
                        type: "text",
                        placeholder: "Фамилия"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("fieldset", {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                htmlFor: "birthday",
                                children: "День рождения"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(FormInput, {
                                "data-fieldnumber": 7,
                                onKeyDown: handleNext,
                                onClick: removeFromIncorrect,
                                incorrect: incorrectFields.includes('birthday'),
                                name: "birthday",
                                type: "date"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Register_module_default()).btnGroup,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                onClick: handleNextPage,
                                className: (Register_module_default()).button,
                                size: 125,
                                animations: [
                                    'base'
                                ],
                                children: "Назад"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(Button, {
                                onClick: handleRegister,
                                className: (Register_module_default()).button,
                                size: 125,
                                animations: [
                                    'success'
                                ],
                                children: "Готово"
                            })
                        ]
                    })
                ]
            })
        ]
    }));
});
Register.displayName = 'Register';

// EXTERNAL MODULE: external "lodash"
var external_lodash_ = __webpack_require__(6517);
;// CONCATENATED MODULE: ./public/icons/photoFile.svg
var photoFile_path, photoFile_path2;

function photoFile_extends() { photoFile_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return photoFile_extends.apply(this, arguments); }



var SvgPhotoFile = function SvgPhotoFile(props) {
  return /*#__PURE__*/external_react_.createElement("svg", photoFile_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30
  }, props), photoFile_path || (photoFile_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M19 0H5a5.006 5.006 0 0 0-5 5v14a5.006 5.006 0 0 0 5 5h14a5.006 5.006 0 0 0 5-5V5a5.006 5.006 0 0 0-5-5ZM5 2h14a3 3 0 0 1 3 3v14a2.951 2.951 0 0 1-.3 1.285l-9.163-9.163a5 5 0 0 0-7.072 0L2 14.586V5a3 3 0 0 1 3-3Zm0 20a3 3 0 0 1-3-3v-1.586l4.878-4.878a3 3 0 0 1 4.244 0l9.163 9.164A2.951 2.951 0 0 1 19 22Z"
  })), photoFile_path2 || (photoFile_path2 = /*#__PURE__*/external_react_.createElement("path", {
    d: "M16 10.5A3.5 3.5 0 1 0 12.5 7a3.5 3.5 0 0 0 3.5 3.5Zm0-5A1.5 1.5 0 1 1 14.5 7 1.5 1.5 0 0 1 16 5.5Z"
  })));
};

/* harmony default export */ const photoFile = (SvgPhotoFile);
;// CONCATENATED MODULE: ./public/icons/audioFile.svg
var audioFile_path;

function audioFile_extends() { audioFile_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return audioFile_extends.apply(this, arguments); }



var SvgAudioFile = function SvgAudioFile(props) {
  return /*#__PURE__*/external_react_.createElement("svg", audioFile_extends({
    height: 30,
    viewBox: "0 0 24 24",
    width: 30,
    xmlns: "http://www.w3.org/2000/svg",
    "data-name": "Layer 1"
  }, props), audioFile_path || (audioFile_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M15 12a1 1 0 0 1-1 1h-1v4.5a2.5 2.5 0 1 1-2.5-2.5 2.577 2.577 0 0 1 .5.05V13a2 2 0 0 1 2-2h1a1 1 0 0 1 1 1zm7-1.515V19a5.006 5.006 0 0 1-5 5H7a5.006 5.006 0 0 1-5-5V5a5.006 5.006 0 0 1 5-5h4.515a6.955 6.955 0 0 1 4.95 2.051l3.484 3.484A6.955 6.955 0 0 1 22 10.485zm-6.949-7.02A4.989 4.989 0 0 0 14 2.684V7a1 1 0 0 0 1 1h4.316a4.989 4.989 0 0 0-.781-1.051zM20 10.485c0-.165-.032-.323-.047-.485H15a3 3 0 0 1-3-3V2.047c-.162-.015-.32-.047-.485-.047H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3z"
  })));
};

/* harmony default export */ const audioFile = (SvgAudioFile);
;// CONCATENATED MODULE: ./public/icons/videoFile.svg
var videoFile_path;

function videoFile_extends() { videoFile_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return videoFile_extends.apply(this, arguments); }



var SvgVideoFile = function SvgVideoFile(props) {
  return /*#__PURE__*/external_react_.createElement("svg", videoFile_extends({
    height: 30,
    viewBox: "0 0 24 24",
    width: 30,
    xmlns: "http://www.w3.org/2000/svg",
    "data-name": "Layer 1"
  }, props), videoFile_path || (videoFile_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M19 24H5a5.006 5.006 0 0 1-5-5V5a5.006 5.006 0 0 1 5-5h14a5.006 5.006 0 0 1 5 5v14a5.006 5.006 0 0 1-5 5zM5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm4.342 15.005a2.368 2.368 0 0 1-1.186-.323 2.313 2.313 0 0 1-1.164-2.021V9.339a2.337 2.337 0 0 1 3.5-2.029l5.278 2.635a2.336 2.336 0 0 1 .049 4.084l-5.376 2.687a2.2 2.2 0 0 1-1.101.289zm-.025-8a.314.314 0 0 0-.157.042.327.327 0 0 0-.168.292v5.322a.337.337 0 0 0 .5.293l5.376-2.688a.314.314 0 0 0 .12-.266.325.325 0 0 0-.169-.292L9.545 9.073a.462.462 0 0 0-.228-.068z"
  })));
};

/* harmony default export */ const videoFile = (SvgVideoFile);
// EXTERNAL MODULE: ./components/Room/Room.module.scss
var Room_module = __webpack_require__(1258);
var Room_module_default = /*#__PURE__*/__webpack_require__.n(Room_module);
;// CONCATENATED MODULE: ./components/Room/index.tsx












const Room = (0,external_mobx_react_lite_.observer)(({ room , className , ...props })=>{
    const { RoomStore , UserStore  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { user , checkJWT , updateServiceWS , ObjectOfUsers , theme , updateUserDataInDB , notifications  } = UserStore;
    const { changeCurrentRoom , currentRoom , unreadMessagesAmount , updateUnreadMessages , getMoreMessages  } = RoomStore;
    const handlePickRoom = async ()=>{
        if (!await checkJWT()) return;
        changeCurrentRoom(room);
        const Updatednotifications = (0,external_lodash_.cloneDeep)(notifications);
        Updatednotifications.messages[room.id] = [
            0,
            null
        ];
        await updateUserDataInDB(user.username, {
            notifications: JSON.stringify(Updatednotifications)
        });
        await getMoreMessages({
            room_id: room.id,
            count: 20
        });
        updateUnreadMessages(room.id, 0);
        updateServiceWS({
            currentRoom: room.id
        });
    };
    const getLastMessageTime = ()=>{
        return (0,helpers/* getTimeCreated */.go)(room?.messages.length > 0 ? room?.messages[room?.messages.length - 1] : room.last_message ? JSON.parse(room.last_message) : '');
    };
    const checkIfUserOnline = ()=>{
        return ObjectOfUsers[room.users.filter((anotherUserId)=>anotherUserId != user.id
        )[0]]?.isOnline;
    };
    const getRoomClassNames = ()=>{
        return external_classnames_default()(className, (Room_module_default()).room, {
            [(Room_module_default()).currentRoom]: currentRoom === room,
            [(Room_module_default()).currentRoomBlackTheme]: currentRoom === room && theme === 'black',
            [(Room_module_default()).roomBlackTheme]: theme === 'black'
        });
    };
    const makeLastMessage = (message)=>{
        if (message === 'photo') return(/*#__PURE__*/ jsx_runtime_.jsx(photoFile, {
            className: (Room_module_default()).lastMessageIcon
        }));
        if (message === 'audio') return(/*#__PURE__*/ jsx_runtime_.jsx(audioFile, {
            className: (Room_module_default()).lastMessageIcon
        }));
        if (message === 'video') return(/*#__PURE__*/ jsx_runtime_.jsx(videoFile, {
            className: (Room_module_default()).lastMessageIcon
        }));
        return (0,helpers/* convertFromSpecialSymbols */.uf)(message);
    };
    const getRoomName = ()=>{
        const shortenName = (name, shortName)=>{
            if (screen.width > 600 && screen.width <= 768) {
                return name;
            }
            if (name.length <= 23) {
                return name;
            }
            if (screen.width <= 1720) {
                return shortName ? shortName : name.slice(0, 20) + '...';
            }
            return name;
        };
        if (room?.name) return shortenName(room.name);
        const anotherUser = ObjectOfUsers[(0,helpers/* getAnotherUser */.N8)(room?.users, user.id)];
        return shortenName(anotherUser?.first_name + ' ' + anotherUser?.last_name, anotherUser?.first_name);
    };
    const getLastMessage = ()=>{
        if (room?.messages.length) {
            const message = (0,helpers/* showLastMessage */.B4)(room?.messages[room?.messages.length - 1]);
            return makeLastMessage(message);
        }
        if (room.last_message) {
            const message = (0,helpers/* showLastMessage */.B4)(room.last_message ? JSON.parse(room.last_message) : '');
            return makeLastMessage(message);
        }
        return '';
    };
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: getRoomClassNames(),
        ...props,
        onClick: handlePickRoom,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Room_module_default()).upperBar,
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Room_module_default()).roomInfo,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (Room_module_default()).avatarWrapper,
                                children: room.isGroup ? /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                                    title: getRoomName(),
                                    object: room,
                                    size: 54,
                                    edgeType: "circle",
                                    cover: true,
                                    className: (Room_module_default()).avatar
                                }) : /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                            className: external_classnames_default()((Room_module_default()).isOnlineWrapper, {
                                                [(Room_module_default()).isOnlineOpen]: checkIfUserOnline()
                                            }),
                                            children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                className: external_classnames_default()((Room_module_default()).isOnline)
                                            })
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                                            title: getRoomName(),
                                            className: external_classnames_default()((Room_module_default()).avatar),
                                            object: ObjectOfUsers[(0,helpers/* getAnotherUser */.N8)(room?.users, user.id)],
                                            size: 54,
                                            cover: true,
                                            edgeType: "circle"
                                        })
                                    ]
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (Room_module_default()).roomName,
                                children: getRoomName()
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (Room_module_default()).lastMessageTime,
                        children: getLastMessageTime()
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Room_module_default()).lastMessage,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: (Room_module_default()).content,
                        children: getLastMessage()
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(NotificationUnread, {
                        color: theme,
                        number: unreadMessagesAmount[room.id]
                    })
                ]
            })
        ]
    }));
});
Room.displayName = 'Room';

// EXTERNAL MODULE: ./components/SearchBar/SearchBar.module.scss
var SearchBar_module = __webpack_require__(1346);
var SearchBar_module_default = /*#__PURE__*/__webpack_require__.n(SearchBar_module);
;// CONCATENATED MODULE: ./components/SearchBar/index.tsx





const SearchBar = /*#__PURE__*/ (0,external_react_.forwardRef)(({ className , type , array , color , children , placeholder , ...props }, ref)=>{
    const { RoomStore , UserStore  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { filterRoomsArray  } = RoomStore;
    const { filterUsersArray , user  } = UserStore;
    const handleInput = (event)=>{
        const input = event.target;
        if (type === 'rooms') {
            filterRoomsArray({
                filter_word: input.value,
                user_id: user.id
            });
        }
        if (type === 'users') {
            filterUsersArray({
                filter_word: input.value,
                array: array
            });
        }
    };
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (SearchBar_module_default()).searchBar, {
            [(SearchBar_module_default()).searchBarBlackTheme]: color === 'black'
        }),
        ...props,
        children: [
            children,
            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                placeholder: placeholder ? placeholder : 'Поиск',
                className: external_classnames_default()((SearchBar_module_default()).input),
                onChange: handleInput,
                ref: ref
            })
        ]
    }));
});
SearchBar.displayName = 'SearchBar';

// EXTERNAL MODULE: ./components/Settings/Settings.module.scss
var Settings_module = __webpack_require__(2941);
var Settings_module_default = /*#__PURE__*/__webpack_require__.n(Settings_module);
;// CONCATENATED MODULE: ./components/Settings/index.tsx






const Settings = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const { UserStore  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { theme , changeTheme  } = UserStore;
    const handleChangeTheme = (event)=>{
        const input = event.target;
        if (input.checked) {
            changeTheme('black');
            localStorage.setItem('black-theme', 'on');
        } else {
            changeTheme('white');
            localStorage.removeItem('black-theme');
        }
    };
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: external_classnames_default()(className, (Settings_module_default()).settings, {
            [(Settings_module_default()).settingsBlackTheme]: theme === 'black'
        }),
        ...props,
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: (Settings_module_default()).setting,
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                    className: (Settings_module_default()).settingText,
                    children: "Темная тема"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("input", {
                    type: "checkbox",
                    className: (Settings_module_default()).input,
                    onClick: handleChangeTheme,
                    defaultChecked: theme === 'black'
                })
            ]
        })
    }));
});
Settings.displayName = 'Settings';

;// CONCATENATED MODULE: ./components/UserCard/UserCardProps.ts
const actionTypes = {
    'add': [
        'searched_user',
        'friend_request'
    ],
    'cancel': [
        'desired_friend',
        'friend'
    ],
    'block': [
        'friend',
        'friend_request',
        'searched_user'
    ],
    'unblock': [
        'blocked_user'
    ]
};

;// CONCATENATED MODULE: ./public/icons/addFriend.svg
var addFriend_path, addFriend_linearGradient;

function addFriend_extends() { addFriend_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return addFriend_extends.apply(this, arguments); }



var SvgAddFriend = function SvgAddFriend(props) {
  return /*#__PURE__*/external_react_.createElement("svg", addFriend_extends({
    height: 30,
    fill: "url(#addFriend_svg__a)",
    viewBox: "0 0 24 24",
    width: 30,
    xmlns: "http://www.w3.org/2000/svg",
    "data-name": "Layer 1"
  }, props), addFriend_path || (addFriend_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M12 0a12 12 0 1 0 12 12A12.013 12.013 0 0 0 12 0zm0 22a10 10 0 1 1 10-10 10.011 10.011 0 0 1-10 10zm5-10a1 1 0 0 1-1 1h-3v3a1 1 0 0 1-2 0v-3H8a1 1 0 0 1 0-2h3V8a1 1 0 0 1 2 0v3h3a1 1 0 0 1 1 1z"
  })), addFriend_linearGradient || (addFriend_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "addFriend_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  }))));
};

/* harmony default export */ const addFriend = (SvgAddFriend);
;// CONCATENATED MODULE: ./public/icons/cancel.svg
var cancel_path, cancel_linearGradient;

function cancel_extends() { cancel_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return cancel_extends.apply(this, arguments); }



var SvgCancel = function SvgCancel(props) {
  return /*#__PURE__*/external_react_.createElement("svg", cancel_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30,
    fill: "url(#cancel_svg__a)"
  }, props), cancel_path || (cancel_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M12 0a12 12 0 1 0 12 12A12.013 12.013 0 0 0 12 0Zm0 2a9.949 9.949 0 0 1 6.324 2.262L4.262 18.324A9.992 9.992 0 0 1 12 2Zm0 20a9.949 9.949 0 0 1-6.324-2.262L19.738 5.676A9.992 9.992 0 0 1 12 22Z"
  })), cancel_linearGradient || (cancel_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "cancel_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  }))));
};

/* harmony default export */ const cancel = (SvgCancel);
;// CONCATENATED MODULE: ./public/icons/blockUser.svg
var blockUser_path, blockUser_path2, blockUser_linearGradient;

function blockUser_extends() { blockUser_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return blockUser_extends.apply(this, arguments); }



var SvgBlockUser = function SvgBlockUser(props) {
  return /*#__PURE__*/external_react_.createElement("svg", blockUser_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30,
    fill: "url(#blockUser_svg__a)"
  }, props), blockUser_path || (blockUser_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M19 8.424V7A7 7 0 0 0 5 7v1.424A5 5 0 0 0 2 13v6a5.006 5.006 0 0 0 5 5h10a5.006 5.006 0 0 0 5-5v-6a5 5 0 0 0-3-4.576ZM7 7a5 5 0 0 1 10 0v1H7Zm13 12a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3Z"
  })), blockUser_path2 || (blockUser_path2 = /*#__PURE__*/external_react_.createElement("path", {
    d: "M12 14a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1Z"
  })), blockUser_linearGradient || (blockUser_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "blockUser_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  }))));
};

/* harmony default export */ const blockUser = (SvgBlockUser);
;// CONCATENATED MODULE: ./public/icons/unblockUser.svg
var unblockUser_path, unblockUser_path2, unblockUser_linearGradient;

function unblockUser_extends() { unblockUser_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return unblockUser_extends.apply(this, arguments); }



var SvgUnblockUser = function SvgUnblockUser(props) {
  return /*#__PURE__*/external_react_.createElement("svg", unblockUser_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30,
    fill: "url(#unblockUser_svg__a)"
  }, props), unblockUser_path || (unblockUser_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M17 8H7V7a5 5 0 0 1 9.375-2.422 1 1 0 0 0 1.749-.971A7 7 0 0 0 5 7v1.424A5 5 0 0 0 2 13v6a5.006 5.006 0 0 0 5 5h10a5.006 5.006 0 0 0 5-5v-6a5.006 5.006 0 0 0-5-5Zm3 11a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3Z"
  })), unblockUser_path2 || (unblockUser_path2 = /*#__PURE__*/external_react_.createElement("path", {
    d: "M12 14a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1Z"
  })), unblockUser_linearGradient || (unblockUser_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "unblockUser_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  }))));
};

/* harmony default export */ const unblockUser = (SvgUnblockUser);
// EXTERNAL MODULE: ./components/UserCard/UserCard.module.scss
var UserCard_module = __webpack_require__(544);
var UserCard_module_default = /*#__PURE__*/__webpack_require__.n(UserCard_module);
;// CONCATENATED MODULE: ./components/UserCard/index.tsx













const UserCard = (0,external_mobx_react_lite_.observer)(({ user_type , anotherUser , color , filterChoice , className , ...props })=>{
    const { UserStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { updateUserDataInDB , updateFilteredUsers , user , updateUserDataInStore  } = UserStore;
    const handleAction = async (event)=>{
        const icon = event.target;
        const UserNofts = JSON.parse(user.notifications);
        const AnotherUserNofts = JSON.parse(anotherUser.notifications);
        const removeIdsFromArray = (array, removed)=>{
            return array.filter((id)=>!removed.includes(id)
            );
        };
        switch(icon.dataset.action){
            case 'add':
                {
                    if (getUserType() === 'friend_request') {
                        AnotherUserNofts.friend_acceptions.push(user.id);
                        const updated = await Promise.all([
                            updateUserDataInDB(user.username, {
                                'friends': [
                                    ...user.friends,
                                    anotherUser.id
                                ],
                                'friend_requests': removeIdsFromArray(user.friend_requests, [
                                    anotherUser.id
                                ])
                            }),
                            updateUserDataInDB(anotherUser.username, {
                                'notifications': JSON.stringify(AnotherUserNofts),
                                'friends': [
                                    ...anotherUser.friends,
                                    user.id
                                ],
                                'desired_friends': removeIdsFromArray(anotherUser.desired_friends, [
                                    user.id
                                ])
                            })
                        ]);
                        if (!updated) {
                            showWarning({
                                type: 'danger',
                                text: 'Не удалось добавить в друзья',
                                icon: 'exclamation'
                            });
                            return;
                        }
                        updateUserDataInStore(user.id, {
                            'friend_requests': removeIdsFromArray(user.friend_requests, [
                                anotherUser.id
                            ])
                        });
                    } else if (getUserType() === 'searched_user') {
                        AnotherUserNofts.friend_requests.push(user.id);
                        const updatedUser = await Promise.all([
                            updateUserDataInDB(anotherUser.username, {
                                'notifications': JSON.stringify(AnotherUserNofts),
                                'friend_requests': [
                                    ...anotherUser.friend_requests,
                                    user.id
                                ]
                            }),
                            updateUserDataInDB(user.username, {
                                'desired_friends': [
                                    ...user.desired_friends,
                                    anotherUser.id
                                ]
                            })
                        ]);
                        if (!updatedUser) {
                            showWarning({
                                type: 'danger',
                                text: 'Не удалось добавить в друзья',
                                icon: 'exclamation'
                            });
                            return;
                        }
                    }
                    updateFilteredUsers(filterChoice);
                    break;
                }
            case 'cancel':
                {
                    if (getUserType() === 'desired_friend') {
                        AnotherUserNofts.friend_requests = removeIdsFromArray(AnotherUserNofts.friend_requests, [
                            user.id
                        ]);
                        AnotherUserNofts.friend_deletions.push(user.id);
                        const updated = await Promise.all([
                            updateUserDataInDB(user.username, {
                                'desired_friends': removeIdsFromArray(user.friends, [
                                    anotherUser.id
                                ])
                            }),
                            updateUserDataInDB(anotherUser.username, {
                                'friend_requests': removeIdsFromArray(anotherUser.friends, [
                                    user.id
                                ]),
                                'notifications': JSON.stringify(AnotherUserNofts)
                            })
                        ]);
                        if (!updated) {
                            showWarning({
                                type: 'danger',
                                text: 'Не удалось удалить из подписок',
                                icon: 'exclamation'
                            });
                            return;
                        }
                    } else if (getUserType() === 'friend') {
                        UserNofts.friend_acceptions = removeIdsFromArray(UserNofts.friend_acceptions, [
                            anotherUser.id
                        ]);
                        UserNofts.friend_requests = removeIdsFromArray(UserNofts.friend_requests, [
                            anotherUser.id
                        ]);
                        AnotherUserNofts.friend_deletions.push(user.id);
                        AnotherUserNofts.friend_acceptions = removeIdsFromArray(UserNofts.friend_acceptions, [
                            user.id
                        ]);
                        AnotherUserNofts.friend_requests = removeIdsFromArray(UserNofts.friend_requests, [
                            user.id
                        ]);
                        const updated = await Promise.all([
                            updateUserDataInDB(user.username, {
                                'friends': removeIdsFromArray(user.friends, [
                                    anotherUser.id
                                ]),
                                'notifications': JSON.stringify(UserNofts)
                            }),
                            updateUserDataInDB(anotherUser.username, {
                                'friends': removeIdsFromArray(anotherUser.friends, [
                                    user.id
                                ]),
                                'notifications': JSON.stringify(AnotherUserNofts)
                            })
                        ]);
                        if (!updated) {
                            showWarning({
                                type: 'danger',
                                text: 'Не удалось удалить из друзей',
                                icon: 'exclamation'
                            });
                            return;
                        }
                        updateUserDataInStore(user.id, {
                            friend_requests: removeIdsFromArray(user.friend_requests, [
                                anotherUser.id
                            ]),
                            desired_friends: removeIdsFromArray(user.desired_friends, [
                                anotherUser.id
                            ])
                        });
                    }
                    updateFilteredUsers(filterChoice);
                    break;
                }
            case 'block':
                {
                    if (anotherUser.friends.includes(user.id)) {
                        AnotherUserNofts.friend_deletions.push(user.id);
                        AnotherUserNofts.friend_acceptions = removeIdsFromArray(UserNofts.friend_acceptions, [
                            user.id
                        ]);
                        AnotherUserNofts.friend_requests = removeIdsFromArray(UserNofts.friend_requests, [
                            user.id
                        ]);
                        AnotherUserNofts.blocked_by = removeIdsFromArray(UserNofts.blocked_by, [
                            user.id
                        ]);
                        UserNofts.friend_acceptions = removeIdsFromArray(UserNofts.friend_acceptions, [
                            user.id
                        ]);
                        UserNofts.friend_requests = removeIdsFromArray(UserNofts.friend_requests, [
                            user.id
                        ]);
                        const updated = await Promise.all([
                            updateUserDataInDB(anotherUser.username, {
                                'friends': removeIdsFromArray(anotherUser.friends, [
                                    user.id
                                ]),
                                'notifications': JSON.stringify(AnotherUserNofts)
                            }),
                            updateUserDataInDB(user.username, {
                                'friends': removeIdsFromArray(anotherUser.friends, [
                                    anotherUser.id
                                ]),
                                'blocked_users': [
                                    ...user.blocked_users,
                                    anotherUser.id
                                ],
                                'notifications': JSON.stringify(UserNofts)
                            })
                        ]);
                        if (!updated) {
                            showWarning({
                                type: 'danger',
                                text: 'Не удалось заблокировать пользователя',
                                icon: 'exclamation'
                            });
                            return;
                        }
                    } else if (user.friend_requests.includes(anotherUser.id)) {
                        UserNofts.friend_requests = removeIdsFromArray(UserNofts.friend_requests, [
                            anotherUser.id
                        ]);
                        UserNofts.friend_deletions = removeIdsFromArray(UserNofts.friend_deletions, [
                            anotherUser.id
                        ]);
                        AnotherUserNofts.blocked_by = removeIdsFromArray(UserNofts.blocked_by, [
                            user.id
                        ]);
                        AnotherUserNofts.friend_deletions.push(user.id);
                        const updated = await Promise.all([
                            updateUserDataInDB(user.username, {
                                'blocked_users': [
                                    ...user.blocked_users,
                                    anotherUser.id
                                ],
                                'friend_requests': removeIdsFromArray(user.friend_requests, [
                                    anotherUser.id
                                ]),
                                'notifications': JSON.stringify(UserNofts)
                            }),
                            updateUserDataInDB(anotherUser.username, {
                                'notifications': JSON.stringify(AnotherUserNofts),
                                'desired_friends': removeIdsFromArray(anotherUser.desired_friends, [
                                    user.id
                                ])
                            })
                        ]);
                        if (!updated) {
                            showWarning({
                                type: 'danger',
                                text: 'Не удалось заблокировать пользователя',
                                icon: 'exclamation'
                            });
                            return;
                        }
                    } else {
                        AnotherUserNofts.blocked_by.push(user.id);
                        const updated = await Promise.all([
                            updateUserDataInDB(user.username, {
                                'blocked_users': [
                                    ...user.blocked_users,
                                    anotherUser.id
                                ]
                            }),
                            updateUserDataInDB(anotherUser.username, {
                                'notifications': JSON.stringify(AnotherUserNofts)
                            })
                        ]);
                        if (!updated) {
                            showWarning({
                                type: 'danger',
                                text: 'Не удалось заблокировать пользователя',
                                icon: 'exclamation'
                            });
                            return;
                        }
                    }
                    updateFilteredUsers(filterChoice);
                    break;
                }
            case 'unblock':
                {
                    const updatedUser = await updateUserDataInDB(user.username, {
                        'blocked_users': removeIdsFromArray(user.blocked_users, [
                            anotherUser.id
                        ])
                    });
                    if (!updatedUser) {
                        showWarning({
                            type: 'danger',
                            text: 'Не удалось разблокировать пользователя',
                            icon: 'exclamation'
                        });
                        return;
                    }
                    updateFilteredUsers(filterChoice);
                    break;
                }
            default:
                {
                    return;
                }
        }
    };
    const getStatus = ()=>{
        if (user_type != 'searched_user') return '';
        if (user.friends.includes(anotherUser.id)) {
            return 'в друзьях';
        }
        if (user.friend_requests.includes(anotherUser.id)) {
            return 'в заявках';
        }
        if (user.desired_friends.includes(anotherUser.id)) {
            return 'заявка отправлена';
        }
        if (user.blocked_users.includes(anotherUser.id)) {
            return 'заблокирован';
        }
        if (anotherUser.blocked_users.includes(user.id)) {
            return 'доступ ограничен';
        }
        return '';
    };
    const getUserType = ()=>{
        if (user_type != 'searched_user') return user_type;
        switch(getStatus()){
            case 'в друзьях':
                {
                    return 'friend';
                }
            case 'в заявках':
                {
                    return 'friend_request';
                }
            case 'заявка отправлена':
                {
                    return 'desired_friend';
                }
            case 'заблокирован':
                {
                    return 'blocked_user';
                }
            default:
                {
                    if (anotherUser.blocked_users.includes(user.id)) return 'unreachable';
                    return 'searched_user';
                }
        }
    };
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (UserCard_module_default()).userCard, {
            [(UserCard_module_default()).userCardBlackTheme]: color === 'black'
        }),
        ...props,
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: (UserCard_module_default()).photoWrapper,
                children: /*#__PURE__*/ jsx_runtime_.jsx(Avatar, {
                    title: (0,helpers/* getFullName */.Pp)(anotherUser),
                    object: anotherUser,
                    className: (UserCard_module_default()).photo,
                    edgeType: "circle",
                    size: 90,
                    cover: true
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (UserCard_module_default()).main,
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (UserCard_module_default()).name,
                        children: [
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                children: [
                                    anotherUser.first_name,
                                    " ",
                                    anotherUser.last_name
                                ]
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: (UserCard_module_default()).statusWord,
                                children: getStatus()
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (UserCard_module_default()).actions,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx(addFriend, {
                                onClick: handleAction,
                                "data-action": "add",
                                className: external_classnames_default()((UserCard_module_default()).svg, {
                                    [(UserCard_module_default()).open]: actionTypes.add.includes(getUserType())
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(cancel, {
                                onClick: handleAction,
                                "data-action": "cancel",
                                className: external_classnames_default()((UserCard_module_default()).svg, {
                                    [(UserCard_module_default()).open]: actionTypes.cancel.includes(getUserType())
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(blockUser, {
                                onClick: handleAction,
                                "data-action": "block",
                                className: external_classnames_default()((UserCard_module_default()).svg, {
                                    [(UserCard_module_default()).open]: actionTypes.block.includes(getUserType())
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx(unblockUser, {
                                onClick: handleAction,
                                "data-action": "unblock",
                                className: external_classnames_default()((UserCard_module_default()).svg, {
                                    [(UserCard_module_default()).open]: actionTypes.unblock.includes(getUserType())
                                })
                            })
                        ]
                    })
                ]
            })
        ]
    }));
});
UserCard.displayName = 'UserCard';

;// CONCATENATED MODULE: ./public/icons/warning.svg
var warning_path, warning_path2, _rect;

function warning_extends() { warning_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return warning_extends.apply(this, arguments); }



var SvgWarning = function SvgWarning(props) {
  return /*#__PURE__*/external_react_.createElement("svg", warning_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30
  }, props), warning_path || (warning_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M12 0a12 12 0 1 0 12 12A12.013 12.013 0 0 0 12 0Zm0 22a10 10 0 1 1 10-10 10.011 10.011 0 0 1-10 10Z"
  })), warning_path2 || (warning_path2 = /*#__PURE__*/external_react_.createElement("path", {
    d: "M12 5a1 1 0 0 0-1 1v8a1 1 0 0 0 2 0V6a1 1 0 0 0-1-1Z"
  })), _rect || (_rect = /*#__PURE__*/external_react_.createElement("rect", {
    x: 11,
    y: 17,
    width: 2,
    height: 2,
    rx: 1
  })));
};

/* harmony default export */ const warning = (SvgWarning);
;// CONCATENATED MODULE: ./public/icons/mail.svg
var mail_path;

function mail_extends() { mail_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return mail_extends.apply(this, arguments); }



var SvgMail = function SvgMail(props) {
  return /*#__PURE__*/external_react_.createElement("svg", mail_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30
  }, props), mail_path || (mail_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M19 1H5a5.006 5.006 0 0 0-5 5v12a5.006 5.006 0 0 0 5 5h14a5.006 5.006 0 0 0 5-5V6a5.006 5.006 0 0 0-5-5ZM5 3h14a3 3 0 0 1 2.78 1.887l-7.658 7.659a3.007 3.007 0 0 1-4.244 0L2.22 4.887A3 3 0 0 1 5 3Zm14 18H5a3 3 0 0 1-3-3V7.5l6.464 6.46a5.007 5.007 0 0 0 7.072 0L22 7.5V18a3 3 0 0 1-3 3Z"
  })));
};

/* harmony default export */ const mail = (SvgMail);
;// CONCATENATED MODULE: ./public/icons/ok.svg
var ok_path, ok_path2;

function ok_extends() { ok_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return ok_extends.apply(this, arguments); }



var SvgOk = function SvgOk(props) {
  return /*#__PURE__*/external_react_.createElement("svg", ok_extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    width: 30,
    height: 30
  }, props), ok_path || (ok_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M19 0H5a5.006 5.006 0 0 0-5 5v14a5.006 5.006 0 0 0 5 5h14a5.006 5.006 0 0 0 5-5V5a5.006 5.006 0 0 0-5-5Zm3 19a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3Z"
  })), ok_path2 || (ok_path2 = /*#__PURE__*/external_react_.createElement("path", {
    d: "M9.333 15.919 5.414 12A1 1 0 0 0 4 12a1 1 0 0 0 0 1.414l3.919 3.919a2 2 0 0 0 2.829 0L20 8.081a1 1 0 0 0 0-1.414 1 1 0 0 0-1.414 0Z"
  })));
};

/* harmony default export */ const ok = (SvgOk);
// EXTERNAL MODULE: ./components/Warning/Warning.module.scss
var Warning_module = __webpack_require__(4747);
var Warning_module_default = /*#__PURE__*/__webpack_require__.n(Warning_module);
;// CONCATENATED MODULE: ./components/Warning/index.tsx







const Warning = /*#__PURE__*/ (0,external_react_.forwardRef)(({ className , type , text ='' , icon , ...props }, ref)=>{
    const getWarningClassNames = ()=>{
        return external_classnames_default()((Warning_module_default()).warning, {
            [(Warning_module_default()).dangerWarning]: type === 'danger',
            [(Warning_module_default()).successWarning]: type === 'success'
        });
    };
    return(/*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: external_classnames_default()(className, (Warning_module_default()).wrapper),
        ref: ref,
        ...props,
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: getWarningClassNames(),
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(warning, {
                    className: external_classnames_default()((Warning_module_default()).svg, {
                        [(Warning_module_default()).svgOpen]: icon === 'exclamation'
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(mail, {
                    className: external_classnames_default()((Warning_module_default()).svg, {
                        [(Warning_module_default()).svgOpen]: icon === 'mail'
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(ok, {
                    className: external_classnames_default()((Warning_module_default()).svg, {
                        [(Warning_module_default()).svgOpen]: icon === 'ok'
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("div", {
                    className: (Warning_module_default()).text,
                    children: text
                })
            ]
        })
    }));
});
Warning.displayName = 'Warning';

;// CONCATENATED MODULE: ./components/index.tsx


























/***/ }),

/***/ 535:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "e": () => (/* binding */ WithLayout)
});

// EXTERNAL MODULE: external "react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(997);
// EXTERNAL MODULE: external "react"
var external_react_ = __webpack_require__(6689);
// EXTERNAL MODULE: external "mobx-react-lite"
var external_mobx_react_lite_ = __webpack_require__(5944);
// EXTERNAL MODULE: external "classnames"
var external_classnames_ = __webpack_require__(9003);
var external_classnames_default = /*#__PURE__*/__webpack_require__.n(external_classnames_);
// EXTERNAL MODULE: external "next/router"
var router_ = __webpack_require__(1853);
// EXTERNAL MODULE: ./node_modules/next/link.js
var next_link = __webpack_require__(1664);
// EXTERNAL MODULE: ./context/index.ts
var context = __webpack_require__(4942);
// EXTERNAL MODULE: ./components/index.tsx + 47 modules
var components = __webpack_require__(9074);
;// CONCATENATED MODULE: ./public/icons/friends.svg
var _path, _linearGradient;

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var SvgFriends = function SvgFriends(props) {
  return /*#__PURE__*/external_react_.createElement("svg", _extends({
    fill: "url(#friends_svg__a)",
    height: 24,
    width: 24,
    xmlns: "http://www.w3.org/2000/svg",
    "data-name": "Layer 1"
  }, props), _path || (_path = /*#__PURE__*/external_react_.createElement("path", {
    d: "M7.5 13A4.5 4.5 0 1 1 12 8.5 4.505 4.505 0 0 1 7.5 13zm0-7A2.5 2.5 0 1 0 10 8.5 2.5 2.5 0 0 0 7.5 6zM15 23v-.5a7.5 7.5 0 0 0-15 0v.5a1 1 0 0 0 2 0v-.5a5.5 5.5 0 0 1 11 0v.5a1 1 0 0 0 2 0zm9-5a7 7 0 0 0-11.667-5.217 1 1 0 1 0 1.334 1.49A5 5 0 0 1 22 18a1 1 0 0 0 2 0zm-6.5-9A4.5 4.5 0 1 1 22 4.5 4.505 4.505 0 0 1 17.5 9zm0-7A2.5 2.5 0 1 0 20 4.5 2.5 2.5 0 0 0 17.5 2z"
  })), _linearGradient || (_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "friends_svg__a",
    x1: 29.333,
    y1: 37.333,
    x2: 6.667,
    y2: 4,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#2A8BF2"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 1,
    stopColor: "#2A8BF2"
  }))));
};

/* harmony default export */ const friends = (SvgFriends);
;// CONCATENATED MODULE: ./public/icons/chat.svg
var chat_path, _g, chat_linearGradient;

function chat_extends() { chat_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return chat_extends.apply(this, arguments); }



var SvgChat = function SvgChat(props) {
  return /*#__PURE__*/external_react_.createElement("svg", chat_extends({
    width: 24,
    height: 24,
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), /*#__PURE__*/external_react_.createElement("mask", {
    id: "chat_svg__a",
    style: {
      maskType: "alpha"
    },
    maskUnits: "userSpaceOnUse",
    x: 2,
    y: 2,
    width: 21,
    height: 20
  }, chat_path || (chat_path = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M16 13a1 1 0 1 1 0-2.002A1 1 0 0 1 16 13Zm-4 0a1 1 0 1 1 0-2.002A1 1 0 0 1 12 13Zm-4 0a1 1 0 1 1 0-2.002A1 1 0 0 1 8 13Zm11.07-8.072c-2.283-2.284-5.444-3.303-8.673-2.804-4.077.636-7.457 3.92-8.22 7.987a10.016 10.016 0 0 0 .61 5.765c.099.23.129.446.09.64l-.857 4.287a.999.999 0 0 0 1.176 1.176l4.283-.856c.246-.047.485.022.644.088 1.814.767 3.808.977 5.765.611 4.067-.763 7.35-4.143 7.987-8.22.503-3.228-.52-6.389-2.804-8.674Z",
    fill: "#fff"
  }))), _g || (_g = /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#chat_svg__a)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "url(#chat_svg__b)",
    d: "M0 0h24v24H0z"
  }))), chat_linearGradient || (chat_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "chat_svg__b",
    x1: 6,
    y1: 4,
    x2: 18,
    y2: 19.5,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#707C97"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 0.934,
    stopColor: "#707C97"
  }))));
};

/* harmony default export */ const chat = (SvgChat);
;// CONCATENATED MODULE: ./public/icons/settings.svg
var settings_path, _path2, settings_g, settings_linearGradient;

function settings_extends() { settings_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return settings_extends.apply(this, arguments); }



var SvgSettings = function SvgSettings(props) {
  return /*#__PURE__*/external_react_.createElement("svg", settings_extends({
    width: 24,
    height: 24,
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), settings_path || (settings_path = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M11.374 20h1.252v-.767c0-.935.575-1.775 1.463-2.142.92-.383 1.926-.195 2.588.471l.538.541.889-.888-.546-.544c-.663-.662-.85-1.666-.477-2.557l.002-.002.01-.028a2.324 2.324 0 0 1 2.14-1.459H20v-1.25h-.767c-.934 0-1.776-.575-2.142-1.464-.385-.92-.196-1.925.47-2.588l.541-.539-.887-.887-.544.545c-.662.662-1.665.849-2.556.477-.914-.377-1.49-1.217-1.49-2.152V4h-1.25v.767c0 .935-.575 1.775-1.464 2.142-.92.385-1.924.196-2.587-.471l-.54-.541-.887.888.545.544c.662.662.85 1.666.477 2.557-.376.913-1.217 1.489-2.152 1.489H4v1.25h.767c.935 0 1.776.575 2.142 1.464.385.92.196 1.925-.47 2.588l-.541.539.887.887.545-.545c.662-.662 1.665-.849 2.556-.477.913.377 1.489 1.217 1.489 2.152V20Zm1.569 2H11.05a1.678 1.678 0 0 1-1.675-1.676v-1.091c0-.147-.117-.248-.227-.293-.144-.059-.298-.071-.404.032l-.77.771a1.683 1.683 0 0 1-2.377 0l-1.34-1.34a1.67 1.67 0 0 1-.492-1.19c0-.449.176-.871.495-1.189l.768-.765c.105-.105.094-.259.047-.37-.06-.147-.16-.264-.308-.264H3.683A1.684 1.684 0 0 1 2 12.943v-1.892c0-.925.752-1.676 1.677-1.676h1.09c.147 0 .248-.118.293-.228.06-.144.072-.299-.032-.403l-.771-.77a1.685 1.685 0 0 1 0-2.377l1.34-1.34a1.667 1.667 0 0 1 1.188-.492h.002c.449 0 .872.175 1.189.494l.765.769c.105.106.26.094.37.047.147-.061.264-.161.264-.308V3.683c0-.928.755-1.683 1.682-1.683h1.893c.924 0 1.676.752 1.676 1.676v1.091c0 .147.117.248.226.293.146.06.3.073.405-.032l.77-.771a1.683 1.683 0 0 1 2.377 0l1.34 1.341c.319.317.492.739.491 1.189 0 .448-.174.871-.494 1.188l-.768.766c-.105.105-.095.259-.047.37.06.147.16.264.308.264h1.083c.928 0 1.683.754 1.683 1.682v1.892c0 .925-.752 1.676-1.677 1.676h-1.09c-.146 0-.248.118-.293.228l-.014.033c-.045.111-.057.266.047.37l.77.77a1.685 1.685 0 0 1 0 2.377l-1.34 1.34a1.667 1.667 0 0 1-1.188.492h-.002c-.448 0-.872-.175-1.189-.494l-.765-.769c-.104-.105-.26-.093-.37-.047-.146.061-.263.161-.263.308v1.084c0 .928-.755 1.683-1.683 1.683ZM12 10.5c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5 1.5-.673 1.5-1.5-.673-1.5-1.5-1.5Zm0 5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5Z",
    fill: "#231F20"
  })), /*#__PURE__*/external_react_.createElement("mask", {
    id: "settings_svg__a",
    style: {
      maskType: "alpha"
    },
    maskUnits: "userSpaceOnUse",
    x: 1,
    y: 2,
    width: 21,
    height: 20
  }, _path2 || (_path2 = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M11.374 20h1.252v-.767c0-.935.575-1.775 1.463-2.142.92-.383 1.926-.195 2.588.471l.538.541.889-.888-.546-.544c-.663-.662-.85-1.666-.477-2.557l.002-.002.01-.028a2.324 2.324 0 0 1 2.14-1.459H20v-1.25h-.767c-.934 0-1.776-.575-2.142-1.464-.385-.92-.196-1.925.47-2.588l.541-.539-.887-.887-.544.545c-.662.662-1.665.849-2.556.477-.914-.377-1.49-1.217-1.49-2.152V4h-1.25v.767c0 .935-.575 1.775-1.464 2.142-.92.385-1.924.196-2.587-.471l-.54-.541-.887.888.545.544c.662.662.85 1.666.477 2.557-.376.913-1.217 1.489-2.152 1.489H4v1.25h.767c.935 0 1.776.575 2.142 1.464.385.92.196 1.925-.47 2.588l-.541.539.887.887.545-.545c.662-.662 1.665-.849 2.556-.477.913.377 1.489 1.217 1.489 2.152V20Zm1.569 2H11.05a1.678 1.678 0 0 1-1.675-1.676v-1.091c0-.147-.117-.248-.227-.293-.144-.059-.298-.071-.404.032l-.77.771a1.683 1.683 0 0 1-2.377 0l-1.34-1.34a1.67 1.67 0 0 1-.492-1.19c0-.449.176-.871.495-1.189l.768-.765c.105-.105.094-.259.047-.37-.06-.147-.16-.264-.308-.264H3.683A1.684 1.684 0 0 1 2 12.943v-1.892c0-.925.752-1.676 1.677-1.676h1.09c.147 0 .248-.118.293-.228.06-.144.072-.299-.032-.403l-.771-.77a1.685 1.685 0 0 1 0-2.377l1.34-1.34a1.667 1.667 0 0 1 1.188-.492h.002c.449 0 .872.175 1.189.494l.765.769c.105.106.26.094.37.047.147-.061.264-.161.264-.308V3.683c0-.928.755-1.683 1.682-1.683h1.893c.924 0 1.676.752 1.676 1.676v1.091c0 .147.117.248.226.293.146.06.3.073.405-.032l.77-.771a1.683 1.683 0 0 1 2.377 0l1.34 1.341c.319.317.492.739.491 1.189 0 .448-.174.871-.494 1.188l-.768.766c-.105.105-.095.259-.047.37.06.147.16.264.308.264h1.083c.928 0 1.683.754 1.683 1.682v1.892c0 .925-.752 1.676-1.677 1.676h-1.09c-.146 0-.248.118-.293.228l-.014.033c-.045.111-.057.266.047.37l.77.77a1.685 1.685 0 0 1 0 2.377l-1.34 1.34a1.667 1.667 0 0 1-1.188.492h-.002c-.448 0-.872-.175-1.189-.494l-.765-.769c-.104-.105-.26-.093-.37-.047-.146.061-.263.161-.263.308v1.084c0 .928-.755 1.683-1.683 1.683ZM12 10.5c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5 1.5-.673 1.5-1.5-.673-1.5-1.5-1.5Zm0 5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5Z",
    fill: "#fff"
  }))), settings_g || (settings_g = /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#settings_svg__a)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "url(#settings_svg__b)",
    d: "M0 0h24v24H0z"
  }))), settings_linearGradient || (settings_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "settings_svg__b",
    x1: 6,
    y1: 4,
    x2: 18,
    y2: 19.5,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#707C97"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 0.934,
    stopColor: "#707C97"
  }))));
};

/* harmony default export */ const settings = (SvgSettings);
;// CONCATENATED MODULE: ./public/icons/notification.svg
var notification_path, notification_path2, notification_g, notification_linearGradient;

function notification_extends() { notification_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return notification_extends.apply(this, arguments); }



var SvgNotification = function SvgNotification(props) {
  return /*#__PURE__*/external_react_.createElement("svg", notification_extends({
    width: 24,
    height: 24,
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), notification_path || (notification_path = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "m5.515 16 1.18-1.182c.378-.378.586-.88.586-1.414V8.727c0-1.357.59-2.654 1.62-3.556a4.66 4.66 0 0 1 3.737-1.129c2.327.309 4.082 2.413 4.082 4.895v4.467c0 .534.208 1.036.585 1.413L18.485 16H5.516ZM14 18.341C14 19.24 13.084 20 12 20s-2-.76-2-1.659V18h4v.341Zm6.52-3.133-1.8-1.804V8.937c0-3.481-2.502-6.438-5.82-6.877a6.722 6.722 0 0 0-5.317 1.607 6.728 6.728 0 0 0-2.302 5.06l-.001 4.677-1.801 1.804a1.631 1.631 0 0 0-.354 1.782c.255.614.848 1.01 1.512 1.01H8v.341C8 20.359 9.794 22 12 22s4-1.641 4-3.659V18h3.363c.664 0 1.256-.396 1.51-1.009a1.63 1.63 0 0 0-.352-1.783Z",
    fill: "#231F20"
  })), /*#__PURE__*/external_react_.createElement("mask", {
    id: "notification_svg__a",
    style: {
      maskType: "alpha"
    },
    maskUnits: "userSpaceOnUse",
    x: 2,
    y: 2,
    width: 19,
    height: 20
  }, notification_path2 || (notification_path2 = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "m5.515 16 1.18-1.182c.378-.378.586-.88.586-1.414V8.727c0-1.357.59-2.654 1.62-3.556a4.66 4.66 0 0 1 3.737-1.129c2.327.309 4.082 2.413 4.082 4.895v4.467c0 .534.208 1.036.585 1.413L18.485 16H5.516ZM14 18.341C14 19.24 13.084 20 12 20s-2-.76-2-1.659V18h4v.341Zm6.52-3.133-1.8-1.804V8.937c0-3.481-2.502-6.438-5.82-6.877a6.722 6.722 0 0 0-5.317 1.607 6.728 6.728 0 0 0-2.302 5.06l-.001 4.677-1.801 1.804a1.631 1.631 0 0 0-.354 1.782c.255.614.848 1.01 1.512 1.01H8v.341C8 20.359 9.794 22 12 22s4-1.641 4-3.659V18h3.363c.664 0 1.256-.396 1.51-1.009a1.63 1.63 0 0 0-.352-1.783Z",
    fill: "#fff"
  }))), notification_g || (notification_g = /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#notification_svg__a)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "url(#notification_svg__b)",
    d: "M0 0h24v24H0z"
  }))), notification_linearGradient || (notification_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "notification_svg__b",
    x1: 6,
    y1: 4,
    x2: 18,
    y2: 19.5,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#707C97"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 0.934,
    stopColor: "#707C97"
  }))));
};

/* harmony default export */ const notification = (SvgNotification);
;// CONCATENATED MODULE: ./public/icons/logout.svg
var logout_path, logout_path2, logout_g, logout_linearGradient;

function logout_extends() { logout_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return logout_extends.apply(this, arguments); }



var SvgLogout = function SvgLogout(props) {
  return /*#__PURE__*/external_react_.createElement("svg", logout_extends({
    width: 24,
    height: 24,
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), logout_path || (logout_path = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M13 12a1 1 0 1 1-2 0V2a1 1 0 1 1 2 0v10Zm2.239-8.459a1 1 0 0 1 1.347-.43A9.973 9.973 0 0 1 22 12.001c0 5.512-4.486 10-10 10S2 17.512 2 12a9.972 9.972 0 0 1 5.415-8.89 1 1 0 0 1 .918 1.777A7.977 7.977 0 0 0 4 12c0 4.411 3.589 8 8 8 4.41 0 8-3.589 8-8a7.978 7.978 0 0 0-4.332-7.112.999.999 0 0 1-.43-1.347Z",
    fill: "#231F20"
  })), /*#__PURE__*/external_react_.createElement("mask", {
    id: "logout_svg__a",
    style: {
      maskType: "alpha"
    },
    maskUnits: "userSpaceOnUse",
    x: 1,
    y: 1,
    width: 21,
    height: 22
  }, logout_path2 || (logout_path2 = /*#__PURE__*/external_react_.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M13 12a1 1 0 1 1-2 0V2a1 1 0 1 1 2 0v10Zm2.239-8.459a1 1 0 0 1 1.347-.43A9.973 9.973 0 0 1 22 12.001c0 5.512-4.486 10-10 10S2 17.512 2 12a9.972 9.972 0 0 1 5.415-8.89 1 1 0 0 1 .918 1.777A7.977 7.977 0 0 0 4 12c0 4.411 3.589 8 8 8 4.41 0 8-3.589 8-8a7.978 7.978 0 0 0-4.332-7.112.999.999 0 0 1-.43-1.347Z",
    fill: "#fff"
  }))), logout_g || (logout_g = /*#__PURE__*/external_react_.createElement("g", {
    mask: "url(#logout_svg__a)"
  }, /*#__PURE__*/external_react_.createElement("path", {
    fill: "url(#logout_svg__b)",
    d: "M0 0h24v24H0z"
  }))), logout_linearGradient || (logout_linearGradient = /*#__PURE__*/external_react_.createElement("linearGradient", {
    id: "logout_svg__b",
    x1: 6,
    y1: 4,
    x2: 18,
    y2: 19.5,
    gradientUnits: "userSpaceOnUse"
  }, /*#__PURE__*/external_react_.createElement("stop", {
    stopColor: "#707C97"
  }), /*#__PURE__*/external_react_.createElement("stop", {
    offset: 0.934,
    stopColor: "#707C97"
  }))));
};

/* harmony default export */ const icons_logout = (SvgLogout);
// EXTERNAL MODULE: ./layout/Sidebar/Sidebar.module.scss
var Sidebar_module = __webpack_require__(3780);
var Sidebar_module_default = /*#__PURE__*/__webpack_require__.n(Sidebar_module);
;// CONCATENATED MODULE: ./layout/Sidebar/index.tsx














const Sidebar = (0,external_mobx_react_lite_.observer)(({ className , ...props })=>{
    const router = (0,router_.useRouter)();
    const { UserStore , RoomStore , showWarning  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { logout , user , theme , notifications , fullName  } = UserStore;
    const { unreadMessagesAmount  } = RoomStore;
    const handleLogout = async ()=>{
        const loggedOut = await logout();
        if (!loggedOut) {
            showWarning({
                type: 'danger',
                text: 'Что-то пошло не так',
                icon: 'exclamation'
            });
        }
        router.push('/');
    };
    const handleGoProfile = async ()=>{
        router.push('/profile');
    };
    const getUnreadChatsAmount = ()=>{
        if (!unreadMessagesAmount) return;
        let amount = 0;
        for(const key in unreadMessagesAmount){
            amount += unreadMessagesAmount[key] > 0 ? 1 : 0;
        }
        return amount;
    };
    const getUnreadNotifications = ()=>{
        return notifications?.friend_acceptions.length + notifications?.friend_requests.length;
    };
    if (!user) return(/*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}));
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()(className, (Sidebar_module_default()).sidebar, {
            [(Sidebar_module_default()).sidebarBlackTheme]: theme === 'black'
        }),
        ...props,
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Sidebar_module_default()).user,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(components/* Avatar */.qE, {
                        onClick: handleGoProfile,
                        title: fullName,
                        className: (Sidebar_module_default()).avatar,
                        object: user,
                        size: 86,
                        cursor: "pointer",
                        cover: true,
                        edgeType: "circle"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: (Sidebar_module_default()).name,
                        onClick: handleGoProfile,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                children: user.first_name
                            }),
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("span", {
                                children: [
                                    "\xa0",
                                    user.last_name
                                ]
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: (Sidebar_module_default()).actions,
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("nav", {
                        className: (Sidebar_module_default()).nav,
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: external_classnames_default()((Sidebar_module_default()).buttonWrapper, {
                                    [(Sidebar_module_default()).active]: router.pathname === '/friends'
                                }),
                                children: /*#__PURE__*/ jsx_runtime_.jsx(next_link["default"], {
                                    href: "/friends",
                                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                        className: (Sidebar_module_default()).button,
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx(friends, {
                                                className: (Sidebar_module_default()).svg
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                                className: (Sidebar_module_default()).link,
                                                children: "ДРУЗЬЯ"
                                            })
                                        ]
                                    })
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: external_classnames_default()((Sidebar_module_default()).buttonWrapper, {
                                    [(Sidebar_module_default()).active]: router.pathname === '/'
                                }),
                                children: /*#__PURE__*/ jsx_runtime_.jsx(next_link["default"], {
                                    href: "/",
                                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                        className: (Sidebar_module_default()).button,
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx(chat, {
                                                className: (Sidebar_module_default()).svg
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                                className: (Sidebar_module_default()).link,
                                                children: "ЧАТЫ"
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                className: (Sidebar_module_default()).unreadWrapper,
                                                children: /*#__PURE__*/ jsx_runtime_.jsx(components/* NotificationUnread */.lW, {
                                                    className: (Sidebar_module_default()).unread,
                                                    color: theme,
                                                    number: getUnreadChatsAmount()
                                                })
                                            })
                                        ]
                                    })
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: external_classnames_default()((Sidebar_module_default()).buttonWrapper, {
                                    [(Sidebar_module_default()).active]: router.pathname === '/notifications'
                                }),
                                children: /*#__PURE__*/ jsx_runtime_.jsx(next_link["default"], {
                                    href: "/notifications",
                                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                        className: (Sidebar_module_default()).button,
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx(notification, {
                                                className: (Sidebar_module_default()).svg
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                                className: (Sidebar_module_default()).link,
                                                children: "УВЕДОМЛЕНИЯ"
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx(components/* NotificationUnread */.lW, {
                                                className: (Sidebar_module_default()).unread,
                                                color: theme,
                                                number: router.pathname === '/notifications' ? 0 : getUnreadNotifications()
                                            })
                                        ]
                                    })
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: external_classnames_default()((Sidebar_module_default()).buttonWrapper, {
                                    [(Sidebar_module_default()).active]: router.pathname === '/settings'
                                }),
                                children: /*#__PURE__*/ jsx_runtime_.jsx(next_link["default"], {
                                    href: "/settings",
                                    children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                        className: (Sidebar_module_default()).button,
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx(settings, {
                                                className: (Sidebar_module_default()).svg
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                                className: (Sidebar_module_default()).link,
                                                children: "НАСТРОЙКИ"
                                            })
                                        ]
                                    })
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: external_classnames_default()((Sidebar_module_default()).buttonWrapper, (Sidebar_module_default()).logoutButton),
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: external_classnames_default()((Sidebar_module_default()).button),
                            onClick: handleLogout,
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx(icons_logout, {
                                    className: (Sidebar_module_default()).svg
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx("span", {
                                    className: (Sidebar_module_default()).link,
                                    children: "ВЫЙТИ"
                                })
                            ]
                        })
                    })
                ]
            })
        ]
    }));
});
Sidebar.displayName = 'Sidebar';

// EXTERNAL MODULE: ./layout/Layout.module.scss
var Layout_module = __webpack_require__(2771);
var Layout_module_default = /*#__PURE__*/__webpack_require__.n(Layout_module);
;// CONCATENATED MODULE: ./layout/Layout.tsx







const Layout = (0,external_mobx_react_lite_.observer)(({ children  })=>{
    const { UserStore  } = (0,external_react_.useContext)(context/* GlobalContext */.k);
    const { user , theme  } = UserStore;
    return(/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: external_classnames_default()((Layout_module_default()).layout, {
            [(Layout_module_default()).unauthorized]: !user
        }),
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: external_classnames_default()((Layout_module_default()).main, {
                    [(Layout_module_default()).mainBlackTheme]: theme == 'black'
                }),
                children: children
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(Sidebar, {
                className: external_classnames_default()((Layout_module_default()).sidebar, {
                    [(Layout_module_default()).open]: user
                })
            })
        ]
    }));
});
const WithLayout = (Component)=>{
    return function InsideWithLayout(props) {
        return(/*#__PURE__*/ jsx_runtime_.jsx(Layout, {
            children: /*#__PURE__*/ jsx_runtime_.jsx(Component, {
                ...props
            })
        }));
    };
};


/***/ })

};
;